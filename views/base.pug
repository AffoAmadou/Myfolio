block variables
doctype html 
html(class= isDesktop ? "desktop" : isTablet ? "tablet" : isPhone ? "phone" : "" lang="en")  
    head
        meta(charset="UTF-8")
        meta(name="viewport" content="width=device-width, initial-scale=1.0")

        base(href="/")

        title=metadata.data.title

        meta(name="description" content= metadata.data.description )

        link(rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png")
        link(rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png")
        link(rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png")
        link(rel="manifest" href="/site.webmanifest")

        meta(property="og:type" content="website")
        meta(property="og:title" content=metadata.data.title)
        meta(property="og:description" content=metadata.data.description)
        meta(property="og:image" content=metadata.data.image ? metadata.data.image.url : "")

        meta(name="twitter:card" content="summary_large_image")
        meta(name="twitter:title" content=metadata.data.title)
        meta(name="twitter:description" content=metadata.data.description)
        meta(name="twitter:image" content=metadata.data.image ? metadata.data.image.url : "")

        link(rel="stylesheet" href="main.css"  as="style")

    body 
        include ./partials/preloader
        include ./partials/navigation
        include ./partials/contact

        .content#content(data-template=template)
            block content

        script.
         window.ASSETS = !{JSON.stringify(assets).replace(/<\//g, "<\\/")}
         
         const send= async (e) => {
            e.preventDefault()
            const form = event.target 
            const formData = new FormData(form)

            const formObject = Object.fromEntries(formData.entries())

             const options = {
                method: 'POST',
                headers: {
                'Content-Type': 'application/json'
            },
                body: JSON.stringify(formObject)
             };


             const response = await fetch('https://portfolio-ce7fc-default-rtdb.europe-west1.firebasedatabase.app/', options);

             if (res.ok) {
                alert("ok")
                } else {
                alert('Une erreur est survenue, veuillez r√©essayer plus tard.');
                }
            };
   
          
        script(src="main.js" defer)   