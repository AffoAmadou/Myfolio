/*! For license information please see main.0d829036350913ef02cc.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatestarter("main",{"./app/classes/Button.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var i=s("./app/classes/Component.js"),n=s("./node_modules/gsap/index.js");class h extends i.default{constructor({element:e}){super({element:e}),this.timeline=n.default.timeline()}onMouseEnter(){console.log("enter")}onMouseLeave(){console.log("leave")}addEventListeners(){this.element.addEventListener("mouseenter",this.onMouseEnter),this.element.addEventListener("mouseenter",this.onMouseLeave)}removeEventListeners(){this.element.removeEventListener("mouseenter",this.onMouseEnter),this.element.removeEventListener("mouseenter",this.onMouseLeave)}}},"./app/components/Canvas/Home/Media.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s("./node_modules/ogl/src/core/Texture.js"),n=s("./node_modules/ogl/src/core/Program.js"),h=s("./node_modules/ogl/src/core/Mesh.js"),o=s("./app/shaders/plane-fragment.glsl"),a=s("./app/shaders/plane-vertex.glsl");class r{constructor({element:e,geometry:t,gl:s,index:i,scene:n,sizes:h}){this.element=e,this.geometry=t,this.gl=s,this.scene=n,this.index=i,this.sizes=h,this.createTexture(),this.createProgram(),this.createMesh(),this.extra={x:0,y:0}}createTexture(){this.texture=new i.Texture(this.gl),this.image=new window.Image,this.image.crossOrigin="anonymous",this.image.src=this.element.getAttribute("data-src"),this.image.onload=e=>this.texture.image=this.image}createProgram(){this.program=new n.Program(this.gl,{fragment:o.default,vertex:a.default,uniforms:{tMap:{value:this.texture}}})}createMesh(){this.mesh=new h.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene),this.mesh.scale.x=2}createBounds({sizes:e}){this.sizes=e,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}onResize(e,t){this.extra={x:0,y:0},this.createBounds(e),this.updateX(t&&t.x),this.updateY(t&&t.y)}updateScale(){this.width=this.bounds.width/window.innerWidth,this.height=this.bounds.height/window.innerHeight,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(e=0){this.x=(this.bounds.left+e)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra.x}updateY(e=0){this.y=(this.bounds.top+e)/window.innerHeight,this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height+this.extra.y}update(e){this.bounds&&this.updateX(e.x)}}},"./app/components/Canvas/Home/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s("./node_modules/lodash/lodash.js"),n=s("./node_modules/ogl/src/core/Transform.js"),h=s("./node_modules/ogl/src/extras/Plane.js"),o=s("./app/components/Canvas/Home/Media.js"),a=s("./node_modules/gsap/index.js");class r{constructor({gl:e,scene:t,sizes:s}){this.gl=e,this.sizes=s,this.group=new n.Transform,this.galleryElement=document.querySelector(".home__gallery__wrapper"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.createGeometry(),this.createGallery(),this.group.setParent(t),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0}}createGeometry(){this.geometry=new h.Plane(this.gl)}createGallery(){this.medias=(0,i.map)(this.mediasElements,((e,t)=>new o.default({element:e,geometry:this.geometry,index:t,gl:this.gl,scene:this.group,sizes:this.sizes})))}onResize(e){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=e.sizes,this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,(0,i.map)(this.medias,(t=>t.onResize(e,this.scroll)))}onTouchDown({x:e,y:t}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:e,y:t}){const s=e.start-e.end,i=t.start-t.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:e,y:t}){}onWheel({pixelX:e,pixelY:t}){this.x.target+=e,this.y.target+=t}update(){this.galleryBounds&&(this.x.current=a.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=a.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,(0,i.map)(this.medias,((e,t)=>{const s=e.mesh.scale.x/2,i=e.mesh.scale.y/2;if("left"===this.x.direction){e.mesh.position.x+s<-this.sizes.width/2&&(e.extra.x+=this.gallerySizes.width)}else if("right"===this.x.direction){e.mesh.position.x-s>this.sizes.width/2&&(e.extra.x-=this.gallerySizes.width)}if("top"===this.y.direction){e.mesh.position.y+i<-this.sizes.width/2&&(e.extra.y+=this.gallerySizes.height)}else if("bottom"===this.y.direction){e.mesh.position.y-i>this.sizes.width/2&&(e.extra.y-=this.gallerySizes.height)}e.update(this.scroll)})))}}},"./app/components/Canvas/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var i=s("./node_modules/ogl/src/core/Renderer.js"),n=s("./node_modules/ogl/src/core/Camera.js"),h=s("./node_modules/ogl/src/core/Transform.js"),o=s("./app/components/Canvas/Home/index.js");class a{constructor(){this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.createHome()}createRenderer(){this.renderer=new i.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new n.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new h.Transform}createHome(){this.home=new o.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,s=t*this.camera.aspect;this.sizes={height:t,width:s},this.home&&this.home.onResize({sizes:this.sizes})}onTouchDown(e){this.isDown=!0,this.x.start=e.touches?e.touches[0].clientX:e.clientX,this.y.start=e.touches?e.touches[0].clientY:e.clientY,this.home&&this.home.onTouchDown({x:this.x,y:this.y})}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;this.x.end=t,this.y.end=s,this.x.distance=this.x.start-this.x.end,this.y.distance=this.y.start-this.y.end,this.home&&this.home.onTouchMove({x:this.x,y:this.y})}onTouchUp(e){this.isDown=!1;const t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.x.end=t,this.y.end=s,this.x.distance=this.x.start-this.x.end,this.y.distance=this.y.start-this.y.end,this.home&&this.home.onTouchMove({x:this.x,y:this.y})}onWheel(e){this.home&&this.home.onWheel(e)}update(){this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}},"./app/index.js":(e,t,s)=>{s.r(t);var i=s("./app/pages/About/index.js"),n=s("./app/pages/Projects/index.js"),h=s("./node_modules/lodash/each.js"),o=s.n(h),a=s("./app/pages/Home/index.js"),r=s("./app/components/Preloader.js"),c=(s("./app/classes/Detection.js"),s("./node_modules/normalize-wheel/index.js")),d=s.n(c),l=s("./app/components/Canvas/index.js");new class{constructor(){this.createContent(),this.createPreloader(),this.createPages(),this.createCanvas(),this.addEventListeners(),this.addLinkListeners(),this.update()}createPreloader(){this.preloader=new r.default,this.preloader.once("complete",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new l.default}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new i.default,home:new a.default,project:new n.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.preloader.destroy(),this.onResize(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t=!0}){await this.page.hide();const s=await window.fetch(e);if(200===s.status){const i=await s.text(),n=document.createElement("div");t&&window.history.pushState({},"",e),n.innerHTML=i;const h=n.querySelector(".content");this.template=h.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=h.innerHTML,this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("error")}onResize(){this.canvas&&this.canvas.onResize&&this.canvas.onResize(),window.requestAnimationFrame((e=>{this.page&&this.page.onResize&&this.page.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=d()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.canvas&&this.canvas.update&&this.canvas.update(),this.page&&this.page.update&&this.page.update(),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");o()(e,(e=>{e.onclick=t=>{const{href:s}=e;t.preventDefault(),this.onChange({url:s})}}))}}}},(function(e){e.h=()=>"7adf65cfe8d4d1fb0e46"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDWCxNQUFNLEtBQUUrRixHQUFTRixFQUNqQjdGLEVBQU1nRyxpQkFFTjdLLEtBQUtrSixTQUFTLENBQUVDLElBQUt5QixHQUFyQixDQUpKLEdBUVAsa0JDcE5MRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jbGFzc2VzL0J1dHRvbi5qcyIsIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvTWVkaWEuanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL3N0YXJ0ZXIvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly9zdGFydGVyL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50J1xyXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWxlbWVudCB9KSB7XHJcbiAgICAgICAgc3VwZXIoeyBlbGVtZW50IH0pXHJcblxyXG4gICAgICAgIHRoaXMudGltZWxpbmUgPSBHU0FQLnRpbWVsaW5lKClcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlRW50ZXIoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2VudGVyJylcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlTGVhdmUoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xlYXZlJylcclxuICAgIH1cclxuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlRW50ZXIpXHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VMZWF2ZSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcilcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUxlYXZlKVxyXG5cclxuICAgIH1cclxufSIsImltcG9ydCB7IE1lc2gsIFByb2dyYW0sIFRleHR1cmUgfSBmcm9tICdvZ2wnXHJcblxyXG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnc2hhZGVycy9wbGFuZS1mcmFnbWVudC5nbHNsJ1xyXG5pbXBvcnQgdmVydGV4IGZyb20gJ3NoYWRlcnMvcGxhbmUtdmVydGV4Lmdsc2wnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGdlb21ldHJ5LCBnbCwgaW5kZXgsIHNjZW5lLCBzaXplcyB9KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxyXG4gICAgICAgIHRoaXMuZ2wgPSBnbFxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvZ3JhbSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZXNoKClcclxuXHJcbiAgICAgICAgdGhpcy5leHRyYSA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNyZWF0ZVRleHR1cmUoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5nbClcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKClcclxuICAgICAgICB0aGlzLmltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cydcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcclxuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IF8gPT4gKHRoaXMudGV4dHVyZS5pbWFnZSA9IHRoaXMuaW1hZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJvZ3JhbSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbmV3IFByb2dyYW0odGhpcy5nbCwge1xyXG4gICAgICAgICAgICBmcmFnbWVudCxcclxuICAgICAgICAgICAgdmVydGV4LFxyXG4gICAgICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICAgICAgdE1hcDogeyB2YWx1ZTogdGhpcy50ZXh0dXJlIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lc2goKSB7XHJcbiAgICAgICAgdGhpcy5tZXNoID0gbmV3IE1lc2godGhpcy5nbCwge1xyXG4gICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgcHJvZ3JhbTogdGhpcy5wcm9ncmFtXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5tZXNoLnNldFBhcmVudCh0aGlzLnNjZW5lKVxyXG5cclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUueCA9IDJcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVCb3VuZHMoeyBzaXplcyB9KSB7XHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHNpemVzXHJcblxyXG4gICAgICAgIHRoaXMuYm91bmRzID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2NhbGUoKVxyXG4gICAgICAgIHRoaXMudXBkYXRlWCgpXHJcbiAgICAgICAgdGhpcy51cGRhdGVZKClcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICAqIEV2ZW50c1xyXG4gICAgICAqL1xyXG4gICAgb25SZXNpemUoc2l6ZXMsIHNjcm9sbCkge1xyXG4gICAgICAgIHRoaXMuZXh0cmEgPSB7XHJcbiAgICAgICAgICAgIHg6IDAsXHJcbiAgICAgICAgICAgIHk6IDBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoc2l6ZXMpXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKHNjcm9sbCAmJiBzY3JvbGwueClcclxuICAgICAgICB0aGlzLnVwZGF0ZVkoc2Nyb2xsICYmIHNjcm9sbC55KVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTE9PUFxyXG4gICAgICovXHJcbiAgICB1cGRhdGVTY2FsZSgpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5ib3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5ib3VuZHMuaGVpZ2h0IC8gd2luZG93LmlubmVySGVpZ2h0XHJcblxyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS54ID0gdGhpcy5zaXplcy53aWR0aCAqIHRoaXMud2lkdGhcclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUueSA9IHRoaXMuc2l6ZXMuaGVpZ2h0ICogdGhpcy5oZWlnaHRcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVYKHggPSAwKSB7XHJcbiAgICAgICAgdGhpcy54ID0gKHRoaXMuYm91bmRzLmxlZnQgKyB4KSAvIHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnggPSAoLXRoaXMuc2l6ZXMud2lkdGggLyAyKSArICh0aGlzLm1lc2guc2NhbGUueCAvIDIpICsgKHRoaXMueCAqIHRoaXMuc2l6ZXMud2lkdGgpICsgdGhpcy5leHRyYS54XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlWSh5ID0gMCkge1xyXG4gICAgICAgIHRoaXMueSA9ICh0aGlzLmJvdW5kcy50b3AgKyB5KSAvIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi55ID0gKHRoaXMuc2l6ZXMuaGVpZ2h0IC8gMikgLSAodGhpcy5tZXNoLnNjYWxlLnkgLyAyKSAtICh0aGlzLnkgKiB0aGlzLnNpemVzLmhlaWdodCkgKyB0aGlzLmV4dHJhLnlcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoc2Nyb2xsKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kcykgcmV0dXJuXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKHNjcm9sbC54KVxyXG4gICAgICAgIC8vIHRoaXMudXBkYXRlWShzY3JvbGwueSlcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgbWFwIH0gZnJvbSBcImxvZGFzaFwiXHJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tIFwib2dsXCJcclxuaW1wb3J0IE1lZGlhIGZyb20gXCIuL01lZGlhXCJcclxuXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIb21lIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZ2wsIHNjZW5lLCBzaXplcyB9KSB7XHJcbiAgICAgICAgdGhpcy5nbCA9IGdsXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHNpemVzXHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVHJhbnNmb3JtKClcclxuXHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19nYWxsZXJ5X193cmFwcGVyJylcclxuICAgICAgICB0aGlzLm1lZGlhc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhvbWVfX2dhbGxlcnlfX21lZGlhX19pbWFnZScpXHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlR2VvbWV0cnkoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlR2FsbGVyeSgpXHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHNjZW5lKVxyXG5cclxuICAgICAgICB0aGlzLnggPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGVycDogMC4xXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnkgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGVycDogMC4xXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJyZW50ID0ge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHZW9tZXRyeSgpIHtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wpXHJcbiAgICB9XHJcbiAgICBjcmVhdGVHYWxsZXJ5KCkge1xyXG4gICAgICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhKHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXHJcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5ncm91cCxcclxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50c1xyXG4gICAgICovXHJcbiAgICBvblJlc2l6ZShldmVudCkge1xyXG4gICAgICAgXHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5Qm91bmRzID0gdGhpcy5nYWxsZXJ5RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxyXG5cclxuICAgICAgICB0aGlzLnNpemVzID0gZXZlbnQuc2l6ZXNcclxuXHJcbiAgICAgICAgdGhpcy5nYWxsZXJ5U2l6ZXMgPSB7XHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLmdhbGxlcnlCb3VuZHMud2lkdGggLyB3aW5kb3cuaW5uZXJXaWR0aCAqIHRoaXMuc2l6ZXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5nYWxsZXJ5Qm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMuc2l6ZXMuaGVpZ2h0XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbC54ID0gdGhpcy54LnRhcmdldCA9IDBcclxuICAgICAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LnRhcmdldCA9IDBcclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLm9uUmVzaXplKGV2ZW50LHRoaXMuc2Nyb2xsKSlcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRG93bih7IHgsIHkgfSkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudC54ID0gdGhpcy5zY3JvbGwueFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueVxyXG4gICAgfVxyXG4gICAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcclxuICAgICAgICBjb25zdCB4RGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcclxuICAgICAgICBjb25zdCB5RGlzdGFuY2UgPSB5LnN0YXJ0IC0geS5lbmRcclxuXHJcbiAgICAgICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlXHJcbiAgICAgICAgdGhpcy55LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC55IC0geURpc3RhbmNlXHJcblxyXG4gICAgfVxyXG4gICAgb25Ub3VjaFVwKHsgeCwgeSB9KSB7IH1cclxuXHJcbiAgICBvbldoZWVsKHsgcGl4ZWxYLCBwaXhlbFkgfSkge1xyXG4gICAgICAgIHRoaXMueC50YXJnZXQgKz0gcGl4ZWxYXHJcbiAgICAgICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVQREFURVxyXG4gICAgICovXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nYWxsZXJ5Qm91bmRzKSByZXR1cm5cclxuXHJcbiAgICAgICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycClcclxuICAgICAgICB0aGlzLnkuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy55LmN1cnJlbnQsIHRoaXMueS50YXJnZXQsIHRoaXMueS5sZXJwKVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zY3JvbGwueCA8IHRoaXMueC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAncmlnaHQnXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC54ID4gdGhpcy54LmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnkgPCB0aGlzLnkuY3VycmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ2JvdHRvbSdcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkuY3VycmVudFxyXG5cclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gbWVkaWEubWVzaC5zY2FsZS54IC8gMlxyXG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54ICsgc2NhbGVYXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS54ICs9IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS54IC09IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8qVVAgRE9XTlxyXG4gICAgICAgICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgKyBzY2FsZVlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IC10aGlzLnNpemVzLndpZHRoIC8gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLmV4dHJhLnkgKz0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBzY2FsZVlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeSA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueSAtPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICBtZWRpYS51cGRhdGUodGhpcy5zY3JvbGwpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IENhbWVyYSwgUmVuZGVyZXIsIFRyYW5zZm9ybSB9IGZyb20gJ29nbCdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHJcbiAgICAgICAgdGhpcy54ID0ge1xyXG4gICAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgICAgZGlzdGFuY2U6IDAsXHJcbiAgICAgICAgICAgIGVuZDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnkgPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBkaXN0YW5jZTogMCxcclxuICAgICAgICAgICAgZW5kOiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKClcclxuICAgICAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVTY2VuZSgpXHJcblxyXG4gICAgICAgIHRoaXMub25SZXNpemUoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlSG9tZSgpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUmVuZGVyZXIoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcih7XHJcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxyXG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2FtZXJhKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLmdsKVxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU2NlbmUoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUcmFuc2Zvcm0oKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUhvbWUoKSB7XHJcbiAgICAgICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xyXG4gICAgICAgICAgICBnbDogdGhpcy5nbCxcclxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXHJcbiAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAvLypFdmVudHNcclxuICAgICAqL1xyXG4gICAgb25SZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpXHJcblxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBlcnNwZWN0aXZlKHtcclxuICAgICAgICAgICAgYXNwZWN0OiB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICBjb25zdCBmb3YgPSB0aGlzLmNhbWVyYS5mb3YgKiAoTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gMiAqIE1hdGgudGFuKGZvdiAvIDIpICogdGhpcy5jYW1lcmEucG9zaXRpb24uejtcclxuICAgICAgICBjb25zdCB3aWR0aCA9IGhlaWdodCAqIHRoaXMuY2FtZXJhLmFzcGVjdDtcclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSB7XHJcbiAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgd2lkdGhcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5ob21lLm9uUmVzaXplKHtcclxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hEb3duKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5pc0Rvd24gPSB0cnVlXHJcbiAgICAgICAgdGhpcy54LnN0YXJ0ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCA6IGV2ZW50LmNsaWVudFhcclxuICAgICAgICB0aGlzLnkuc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUub25Ub3VjaERvd24oe1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuXHJcblxyXG4gICAgICAgIGNvbnN0IHggPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIDogZXZlbnQuY2xpZW50WVxyXG5cclxuICAgICAgICB0aGlzLnguZW5kID0geFxyXG4gICAgICAgIHRoaXMueS5lbmQgPSB5XHJcblxyXG4gICAgICAgIHRoaXMueC5kaXN0YW5jZSA9IHRoaXMueC5zdGFydCAtIHRoaXMueC5lbmRcclxuICAgICAgICB0aGlzLnkuZGlzdGFuY2UgPSB0aGlzLnkuc3RhcnQgLSB0aGlzLnkuZW5kXHJcblxyXG5cclxuICAgICAgICBpZiAodGhpcy5ob21lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9tZS5vblRvdWNoTW92ZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLngsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaFVwKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxyXG5cclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXHJcblxyXG4gICAgICAgIHRoaXMueC5lbmQgPSB4XHJcbiAgICAgICAgdGhpcy55LmVuZCA9IHlcclxuXHJcbiAgICAgICAgdGhpcy54LmRpc3RhbmNlID0gdGhpcy54LnN0YXJ0IC0gdGhpcy54LmVuZFxyXG4gICAgICAgIHRoaXMueS5kaXN0YW5jZSA9IHRoaXMueS5zdGFydCAtIHRoaXMueS5lbmRcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUub25Ub3VjaE1vdmUoe1xyXG4gICAgICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG9uV2hlZWwoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5ob21lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9tZS5vbldoZWVsKGV2ZW50KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogLy8qIExPT1BcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5ob21lLnVwZGF0ZSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih7XHJcbiAgICAgICAgICAgIGNhbWVyYTogdGhpcy5jYW1lcmEsXHJcbiAgICAgICAgICAgIHNjZW5lOiB0aGlzLnNjZW5lLFxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn0iLCIvLyEgSW1wb3J0byBsZSBkaXZlcnNlIHBhZ2luZSBzYXBlbmRvIGNoZSBhbGwnaW50ZXJubyBjaSBzb25vIGRlZ2xpIGluZGV4IHF1aW5kaVxyXG4vLyEgTmVzc3VuIGJpc29nbm8gZGkgY2hpYW1hcmUgaWwgZmlsZSBpbnRlcm9cclxuXHJcbmltcG9ydCBBYm91dCBmcm9tICdwYWdlcy9BYm91dCdcclxuaW1wb3J0IFByb2plY3QgZnJvbSAncGFnZXMvUHJvamVjdHMnXHJcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xyXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lJ1xyXG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gJ2NvbXBvbmVudHMvUHJlbG9hZGVyJ1xyXG5pbXBvcnQgRGV0ZWN0aW9uIGZyb20gJ2NsYXNzZXMvRGV0ZWN0aW9uJ1xyXG5cclxuaW1wb3J0IE5vcm1hbGl6ZVdoZWVsIGZyb20gJ25vcm1hbGl6ZS13aGVlbCdcclxuXHJcblxyXG5pbXBvcnQgQ2FudmFzIGZyb20gJ2NvbXBvbmVudHMvQ2FudmFzJ1xyXG4vLyogSU1QT1JUTyBHTEkgSU5ERVggUFJFU0VOVEkgTkVMTEUgQ0FSVEVMTEVcclxuXHJcbmNsYXNzIEFwcCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKSAvLyEgUXVlc3RvIG1ldG9kbyBtaSBwZXJtZXR0ZSBkaSBjcmVhcmUgaWwgY29udGVudCBlIGNvc2kgZGEgcmVjdXBlcmFyZSBpbCBkYXRhLXRlbXBsYXRlIFxyXG4gICAgICAgIC8vISBFIHBlcmNpbyBzYXBlcmUgaW4gY2hlIHBhZ2luYSBtaSB0cm92b1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVByZWxvYWRlcigpXHJcbiAgICAgICAgLy8gdGhpcy5jcmVhdGVOYXZpZ2F0aW9uKClcclxuICAgICAgICB0aGlzLmNyZWF0ZVBhZ2VzKClcclxuICAgICAgICB0aGlzLmNyZWF0ZUNhbnZhcygpXHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKClcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGUoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8qRXZlbnRzXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVByZWxvYWRlcigpIHtcclxuICAgICAgICB0aGlzLnByZWxvYWRlciA9IG5ldyBQcmVsb2FkZXIoKVxyXG5cclxuICAgICAgICAvLypFdmVudCBFbWl0dGVyIHF1YW5kbyBpbCBwcmVsb2FkZXIgaGEgY2FyaWNhdG8gbGUgaW1tYWdpbmkgY2hpYW1vIGlsIG1ldG9kbyBjaGUgc3RhIHF1aSBzb3R0b1xyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyLm9uY2UoJ2NvbXBsZXRlJywgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNhbnZhcygpIHtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoKVxyXG4gICAgfVxyXG4gICAgY3JlYXRlQ29udGVudCgpIHtcclxuICAgICAgICAvLz9RdWkgZXNlZ3VvIGlsIGNyZWF0ZSBjb250ZW50IHBlciBzYXBlcmUgaW4gcXVhbGUgcGFnaW5hIG1pIHRyb3ZvIGF0dHVhbG1lbnRlXHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRlbXBsYXRlKVxyXG4gICAgfVxyXG5cclxuICAgIC8vPyBJIHF1ZXN0byBtb2RvIGNyZW8gbCdvZ2dldHRvIFBBR0lOQVxyXG4gICAgY3JlYXRlUGFnZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IHtcclxuICAgICAgICAgICAgYWJvdXQ6IG5ldyBBYm91dCgpLFxyXG4gICAgICAgICAgICBob21lOiBuZXcgSG9tZSgpLFxyXG4gICAgICAgICAgICBwcm9qZWN0OiBuZXcgUHJvamVjdCgpLCAvLyFJbCBub21lIGNvbG9yYXRvIGRldmUgZXNzZXJlIHVndWFsZSBhIG5vbWUgZGF0byBuZWwgdGVtcGxhdGUgXHJcbiAgICAgICAgICAgIC8vIGRldGFpbDogbmV3IERldGFpbCgpLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXSAvLz9JTlNFUklTQ08gTEEgUEFHSU5BIElOIENVSSBTT05PIEFUVFVBTE1FTlRFXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wYWdlKVxyXG4gICAgICAgIHRoaXMucGFnZS5jcmVhdGUoKSAvLz8gQ2hpYW1vIGlsIGNyZWF0ZSBuZWxsYSBjbGFzc2UgcGFnZSBjaGUgw6kgbGVnYXRhIGFkIG9nbnVuYSBkZWxsZSBwYWdpbmVcclxuXHJcbiAgICAgICAgLy8gdGhpcy5wYWdlLmhpZGUoKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblByZWxvYWRlZCgpIHtcclxuICAgICAgICB0aGlzLnByZWxvYWRlci5kZXN0cm95KClcclxuICAgICAgICB0aGlzLm9uUmVzaXplKClcclxuICAgICAgICB0aGlzLnBhZ2Uuc2hvdygpXHJcbiAgICB9XHJcblxyXG4gICAgb25Qb3BTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgICAgICAgIHB1c2g6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBvbkNoYW5nZSh7IHVybCwgcHVzaCA9IHRydWUgfSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybClcclxuICAgICAgICBhd2FpdCB0aGlzLnBhZ2UuaGlkZSgpXHJcblxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCB3aW5kb3cuZmV0Y2godXJsKVxyXG5cclxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDIwMCkgeyAvLyEyMDAgPSBwYWdpbmEgYmVuIGNhcmljYXRhXHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKSAvLyFyZWN1cGVybyBpbCBjb250ZW51dG8gZGVsbGEgcGFnaW5hXHJcblxyXG4gICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSAvLyFDcmVvIHVuYSBkaXYgcGVyIG1ldHRlcmNpIGxhIHBhcnRlIGRlbCBcImh0bWxcIiBjaGUgdm9nbGlvXHJcbiAgICAgICAgICAgIC8vIWNvc2kgZGEgbm9uIG1ldHRlcmUgYW5jaGUgaSBkb2N0eXBlIGV0YyBcclxuXHJcbiAgICAgICAgICAgIGlmIChwdXNoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCB1cmwpXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sXHJcblxyXG4gICAgICAgICAgICBjb25zdCBkaXZDb250ZW50ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50JykvLyEgUmVjdXBlcm8gc29sbyBpbCAuY29udGVudCBjaGUgY29udGllbmUgbGEgcGFydGUgZGkgZGl2cyBjaGUgY2FtYmlhIGluIG9nbmkgcGFnaW5hXHJcblxyXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlID0gZGl2Q29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKVxyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSk7Ly8qQ2FtYmlvIGlsIGRhdGEtdGVtcGxhdGUgcGVyIGZhciBzYXBlcmUgY2hlIHNvbm8gaW4gcXVlc3RhIHBhZ2luYSBhdHR1YWxtZW50ZVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MIC8vISBFIGxvIGluc2VyaXNjbyBuZWwgY29udGVudCBkZWxsYSBwYWdpbmEgaW4gY3VpIHNvbm8gb3JhXHJcbiAgICAgICAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV0gLy8hUmlhc3NlZ25vIGxhIHBhZ2luYVxyXG5cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5jcmVhdGUoKSAvLz8gQ2hpYW1vIGlsIGNyZWF0ZSBuZWxsYSBjbGFzc2UgcGFnZSBjaGUgw6kgbGVnYXRhIGFkIG9nbnVuYSBkZWxsZSBwYWdpbmVcclxuXHJcbiAgICAgICAgICAgIHRoaXMub25SZXNpemUoKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYWdlLnNob3coKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRMaW5rTGlzdGVuZXJzKClcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIilcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblJlc2l6ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoXyA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uUmVzaXplKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uub25SZXNpemUoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcblxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvblRvdWNoRG93bihldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vblRvdWNoRG93bihldmVudClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblRvdWNoTW92ZShldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZShldmVudClcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvblRvdWNoVXAoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaFVwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLm9uVG91Y2hVcChldmVudClcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25XaGVlbChldmVudCkge1xyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRXaGVlbCA9IE5vcm1hbGl6ZVdoZWVsKGV2ZW50KSAvLyogUGVyIG5vcm1hbGl6emFyZSBsYSB2ZWxvY2l0YSBpbiBvZ25pIGJyb3dzZXJcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uV2hlZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25XaGVlbChub3JtYWxpemVkV2hlZWwpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vbldoZWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5vbldoZWVsKG5vcm1hbGl6ZWRXaGVlbClcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8qTE9PUFxyXG4gICAgICovXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy51cGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMudXBkYXRlKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLnVwZGF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2UudXBkYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy51cGRhdGUuYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIC8vKkxJU1RFTkVSU1xyXG4gICAgICovXHJcbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNld2hlZWwnLCB0aGlzLm9uV2hlZWwuYmluZCh0aGlzKSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgdGhpcy5vblBvcFN0YXRlLmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Ub3VjaE1vdmUuYmluZCh0aGlzKSlcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5vblRvdWNoVXAuYmluZCh0aGlzKSlcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSlcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaW5rTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYScpIC8vISBSZWN1cGVybyB0dXR0aSBpIGxpbmsgZGVsbGEgcGFnaW5hIFxyXG5cclxuICAgICAgICBlYWNoKGxpbmtzLCBsaW5rID0+IHtcclxuICAgICAgICAgICAgbGluay5vbmNsaWNrID0gZXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBocmVmIH0gPSBsaW5rXHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpIC8vIWFsbCBjbGljayBub24gZXNlZ3VvIGlsIGNhbWJpbyBkaSBwYWdpbmEgY29tZSBkb3ZyZWJiZSBlc3NlcmVyXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh7IHVybDogaHJlZiB9KS8vKkZ1bnppb25lIGNoZSBzaSB0cm92YSBzb3ByYSBQZXIgZ2VzdGlyZSBpbCBjYW1iaW8gZGkgcGFnaW5hXHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudCwgaHJlZilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbm5ldyBBcHAoKSIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjdhZGY2NWNmZThkNGQxZmIwZTQ2XCIpIl0sIm5hbWVzIjpbIkJ1dHRvbiIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwiZWxlbWVudCIsInN1cGVyIiwidGhpcyIsInRpbWVsaW5lIiwiR1NBUCIsIm9uTW91c2VFbnRlciIsImNvbnNvbGUiLCJsb2ciLCJvbk1vdXNlTGVhdmUiLCJhZGRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJNZWRpYSIsImdlb21ldHJ5IiwiZ2wiLCJpbmRleCIsInNjZW5lIiwic2l6ZXMiLCJjcmVhdGVUZXh0dXJlIiwiY3JlYXRlUHJvZ3JhbSIsImNyZWF0ZU1lc2giLCJleHRyYSIsIngiLCJ5IiwidGV4dHVyZSIsIlRleHR1cmUiLCJpbWFnZSIsIndpbmRvdyIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJvbmxvYWQiLCJfIiwicHJvZ3JhbSIsIlByb2dyYW0iLCJmcmFnbWVudCIsInZlcnRleCIsInVuaWZvcm1zIiwidE1hcCIsInZhbHVlIiwibWVzaCIsIk1lc2giLCJzZXRQYXJlbnQiLCJzY2FsZSIsImNyZWF0ZUJvdW5kcyIsImJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInVwZGF0ZVNjYWxlIiwidXBkYXRlWCIsInVwZGF0ZVkiLCJvblJlc2l6ZSIsInNjcm9sbCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwibGVmdCIsInBvc2l0aW9uIiwidG9wIiwidXBkYXRlIiwiSG9tZSIsImdyb3VwIiwiVHJhbnNmb3JtIiwiZ2FsbGVyeUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZWRpYXNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjcmVhdGVHZW9tZXRyeSIsImNyZWF0ZUdhbGxlcnkiLCJjdXJyZW50IiwidGFyZ2V0IiwibGVycCIsInNjcm9sbEN1cnJlbnQiLCJQbGFuZSIsIm1lZGlhcyIsIm1hcCIsImV2ZW50IiwiZ2FsbGVyeUJvdW5kcyIsImdhbGxlcnlTaXplcyIsIm1lZGlhIiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsInhEaXN0YW5jZSIsInN0YXJ0IiwiZW5kIiwieURpc3RhbmNlIiwib25Ub3VjaFVwIiwib25XaGVlbCIsInBpeGVsWCIsInBpeGVsWSIsImRpcmVjdGlvbiIsInNjYWxlWCIsInNjYWxlWSIsIkNhbnZhcyIsImRpc3RhbmNlIiwiY3JlYXRlUmVuZGVyZXIiLCJjcmVhdGVDYW1lcmEiLCJjcmVhdGVTY2VuZSIsImNyZWF0ZUhvbWUiLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwiYWxwaGEiLCJhbnRpYWxpYXMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJ6IiwiaG9tZSIsInNldFNpemUiLCJwZXJzcGVjdGl2ZSIsImFzcGVjdCIsImZvdiIsIk1hdGgiLCJQSSIsInRhbiIsImlzRG93biIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsImNoYW5nZWRUb3VjaGVzIiwicmVuZGVyIiwiY3JlYXRlQ29udGVudCIsImNyZWF0ZVByZWxvYWRlciIsImNyZWF0ZVBhZ2VzIiwiY3JlYXRlQ2FudmFzIiwiYWRkTGlua0xpc3RlbmVycyIsInByZWxvYWRlciIsIlByZWxvYWRlciIsIm9uY2UiLCJvblByZWxvYWRlZCIsImJpbmQiLCJjb250ZW50IiwidGVtcGxhdGUiLCJwYWdlcyIsImFib3V0IiwiQWJvdXQiLCJwcm9qZWN0IiwiUHJvamVjdCIsInBhZ2UiLCJjcmVhdGUiLCJkZXN0cm95Iiwic2hvdyIsIm9uUG9wU3RhdGUiLCJvbkNoYW5nZSIsInVybCIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJwdXNoIiwiaGlkZSIsInJlcXVlc3QiLCJmZXRjaCIsInN0YXR1cyIsImh0bWwiLCJ0ZXh0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpbm5lckhUTUwiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm9ybWFsaXplZFdoZWVsIiwiTm9ybWFsaXplV2hlZWwiLCJmcmFtZSIsImxpbmtzIiwiZWFjaCIsImxpbmsiLCJvbmNsaWNrIiwiaHJlZiIsInByZXZlbnREZWZhdWx0IiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9