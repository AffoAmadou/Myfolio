/*! For license information please see main.b6c40088dfd249f9e4d8.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatestarter("main",{"./app/classes/Page.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>w});var i=s("./node_modules/lodash/each.js"),n=s.n(i),a=s("./node_modules/lodash/map.js"),l=s.n(a),o=s("./node_modules/gsap/index.js"),r=s("./node_modules/prefix/index.js"),h=s.n(r),m=s("./app/animations/Title.js"),c=s("./app/animations/Paragraph.js"),d=s("./app/animations/Label.js"),p=s("./app/animations/Section.js"),u=(s("./app/components/Preloader.js"),s("./app/classes/Detection.js")),f=s("./app/classes/AsyncLoad.js");class w{constructor({id:t,element:e,elements:s}){this.id=t,this.selector=e,this.selectorChildren={...s,animationsTitles:'[data-animation="title"]',animationsParagraphs:'[data-animation="paragraph"]',animationsLabels:'[data-animation="label"]',animationsSection:'[data-animation="color"]',preloaders:"[data-src]"},this.transformPrefix=h()("transform"),this.scroll={current:0,target:0,last:0,limit:0}}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},n()(this.selectorChildren,((t,e)=>{t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=this.element.querySelectorAll(t),0===this.elements[e].lenght?this.elements[e]=null:1===this.elements[e].lenght&&(this.elements[e]=document.querySelector(t)))})),this.createAnimations(),this.createPreloader()}createAnimations(){this.animations=[],this.animationsTitles=l()(this.elements.animationsTitles,(t=>new m.default({element:t}))),this.animations.push(...this.animationsTitles),this.animationsParagraphs=l()(this.elements.animationsParagraphs,(t=>new c.default({element:t}))),this.animations.push(...this.animationsParagraphs),this.animationsSection=l()(this.elements.animationsSection,(t=>new p.default({element:t}))),this.animations.push(...this.animationsSection),this.animationsLabels=l()(this.elements.animationsLabels,(t=>new d.default({element:t}))),this.animations.push(...this.animationsLabels)}createPreloader(){this.preloaders=l()(this.elements.preloaders,(t=>new f.default({element:t})))}show(t){return new Promise((e=>{t?this.animationIn=t:(this.animationIn=o.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1})),this.animationIn.call((t=>{this.addEventListeners()}))}))}hide(){return new Promise((t=>{this.destroy(),this.animationOut=o.default.timeline(),this.animationOut.to(this.element,{autoAlpha:0,onComplete:t})}))}destroy(){}onTouchDown(t){u.default.isPhone&&(this.isDown=!0,this.scroll.position=this.scroll.current,this.start=t.touches?t.touches[0].clientY:t.clientY)}onTouchMove(t){if(!u.default.isPhone||!this.isDown)return;const e=t.touches?t.touches[0].clientY:t.clientY,s=1.8*(this.start-e);this.scroll.target=this.scroll.position+s}onTouchUp(){u.default.isPhone&&(this.isDown=!1)}onWheel({pixelY:t}){this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper[0].clientHeight-window.innerHeight)}update(){this.scroll.target=o.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=o.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper[0].style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){}removeEventListeners(){}destroy(){this.removeEventListeners()}}}},(function(t){t.h=()=>"088891601889cf0b8821"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SzBFLHNCQUNSLGtCQzVPTEMsRUFBb0JDLEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0YXJ0ZXIvLi9hcHAvY2xhc3Nlcy9QYWdlLmpzIiwid2VicGFjazovL3N0YXJ0ZXIvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIUNyZW8gc3RhIGNsYXNzZSBwZXIgYXZlcmUgdW4gcHVudG8gaW4gY29tbXVuZSBpbiB0dXR0ZSBsZSBwYWdpbmUgY29zaSBkYSBhdmVyZSBsYSBwb3NzaWJpbGl0w6AgZGkgY2hpYW1hcmUgaSBtZXRvZGkgXHJcbi8vISB1bmEgc29sYSB2b2x0YSBzZW56YSBiaXNvZ25vIGRpIGNoaWFtYXJsaSBpbiB0dXR0ZSBsZSBwYWdpbmVcclxuXHJcbmltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJ1xyXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnXHJcblxyXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xyXG5pbXBvcnQgUHJlZml4IGZyb20gJ3ByZWZpeCdcclxuXHJcbmltcG9ydCBUaXRsZSBmcm9tICdhbmltYXRpb25zL1RpdGxlJ1xyXG5pbXBvcnQgUGFyYWdyYXBoIGZyb20gJ2FuaW1hdGlvbnMvUGFyYWdyYXBoJ1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnYW5pbWF0aW9ucy9MYWJlbCdcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSAnYW5pbWF0aW9ucy9TZWN0aW9uJ1xyXG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gJy4uL2NvbXBvbmVudHMvUHJlbG9hZGVyJ1xyXG5pbXBvcnQgRGV0ZWN0aW9uTWFuYWdlciBmcm9tICcuL0RldGVjdGlvbic7XHJcblxyXG5pbXBvcnQgQXN5bmNMb2FkIGZyb20gJy4vQXN5bmNMb2FkJ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7IGlkLCBlbGVtZW50LCBlbGVtZW50cyB9KSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkXHJcbiAgICAgICAgdGhpcy5zZWxlY3RvciA9IGVsZW1lbnQgLy8hIC5hYm91dCBhZCBlc2VtcGlvIHBhc3NhdG8gZGEgdW5hIGRlbGxlIHBhZ2luZSAgXHJcbiAgICAgICAgdGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xyXG4gICAgICAgICAgICAuLi5lbGVtZW50cyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uc1RpdGxlczogJ1tkYXRhLWFuaW1hdGlvbj1cInRpdGxlXCJdJyxcclxuICAgICAgICAgICAgYW5pbWF0aW9uc1BhcmFncmFwaHM6ICdbZGF0YS1hbmltYXRpb249XCJwYXJhZ3JhcGhcIl0nLFxyXG4gICAgICAgICAgICBhbmltYXRpb25zTGFiZWxzOiAnW2RhdGEtYW5pbWF0aW9uPVwibGFiZWxcIl0nLFxyXG4gICAgICAgICAgICBhbmltYXRpb25zU2VjdGlvbjogJ1tkYXRhLWFuaW1hdGlvbj1cImNvbG9yXCJdJyxcclxuXHJcbiAgICAgICAgICAgIHByZWxvYWRlcnM6ICdbZGF0YS1zcmNdJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoJ3RyYW5zZm9ybScpXHJcblxyXG4gICAgICAgIC8vKkdlc3Rpb25lIGRlbGxvIHNjcm9sbFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0ge1xyXG4gICAgICAgICAgICBjdXJyZW50OiAwLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IDAsXHJcbiAgICAgICAgICAgIGxhc3Q6IDAsXHJcbiAgICAgICAgICAgIGxpbWl0OiAwXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vPyBNZXRvZG8gcGVyIGNyZWFyZSB1bmEgcGFnaW5hIGVkIG90dGVuZXJlIHR1dHRpIGdsaSBlbGVtZW50aSB1dGlsaSBwZXIgbGUgYW5pbWF6aW9uaSBldGNcclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLy8qIEFkIGVzZW1waW8gaWwgLiBhYm91dCBtaSByaXRvcm5hIGxhIGRpdi5hYm91dCBjb24gdHV0dG8gaWwgc3VvIGNvbnRlbnV0b1xyXG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7fSAvLyEgU29ubyB0dXR0ZSBsZSBjbGFzc2kgY2hlIHBhc3NvIGRhbGxhIGNsYXNzZSBwYWdpbmEgIGFkIGVzZW1waW9cclxuICAgICAgICAvLyFpIGJvdHRvbmkgbyBhbHRybyBpbiBtb2RvIGRhIHBvdGVyIGZhcmUgbGUgYW5pbWF6aW9uaSwgZW50cmF0ZSBvIHVzY2l0ZVxyXG5cclxuICAgICAgICAvLypHZXN0aW9uZSBkZWxsbyBzY3JvbGxcclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgY3VycmVudDogMCxcclxuICAgICAgICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICAgICAgICBsYXN0OiAwLFxyXG4gICAgICAgICAgICBsaW1pdDogMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWFjaCh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4sIChlbnRyeSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fCBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fCBBcnJheS5pc0FycmF5KGVudHJ5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnkgLy8qIHNlIMOpIGdpYSB1biBxdWVyeSBzZWxlY3RvciBsbyBwYXNzbyBkaXJldHRhbWVudGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGVudHJ5KSAvLyEgU2UgY2UgbsOpIHBpdSBkaSB1bm8sIGFkIGVzZW1waW8gbGUgaW1tYWdpbmkgZmFjY2lvIHVuIHNlbGVjdG9yIGFsbCBwZXIgYXZlcmUgdW4gYXJyYXlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmdodCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IG51bGwgLy8qU2Ugw6kgdnVvdG8gcml0b3JubyBudWxsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ2h0ID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbnRyeSkgLy8hIHNlIGPDqSB1bmEgc29sYSBkaSBxdWVzdGUgY2xhc3NpIGZhY2NpbyB1biBxdWVyeSBzZWxlY3RvciBjb3NpIG5vbiBtaSBmYSB1biBhcnJheVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVBbmltYXRpb25zKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdXHJcblxyXG4gICAgICAgIC8vKlRpdGxlXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zVGl0bGVzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc1RpdGxlcywgZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGl0bGUoeyBlbGVtZW50IH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zVGl0bGVzKVxyXG5cclxuICAgICAgICAvLypQYXJhZ3JhcGhzXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zUGFyYWdyYXBocyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzLCBlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXJhZ3JhcGgoeyBlbGVtZW50IH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zUGFyYWdyYXBocylcclxuXHJcbiAgICAgICAgLy8qU1VCUGFyYWdyYXBoc1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1NlY3Rpb24gPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25zU2VjdGlvbiwgZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VjdGlvbih7IGVsZW1lbnQgfSlcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNTZWN0aW9uKVxyXG5cclxuXHJcbiAgICAgICAgLy8qTGFiZWxzXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zTGFiZWxzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc0xhYmVscywgZWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGFiZWwoeyBlbGVtZW50IH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNMYWJlbHMpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJlbG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMucHJlbG9hZGVycyA9IG1hcCh0aGlzLmVsZW1lbnRzLnByZWxvYWRlcnMsIGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFzeW5jTG9hZCh7IGVsZW1lbnQgfSkgLy8hQ1JFQVJFIExFIElNTUFHSU5JIERPUE8gQ0FNQklPIFBBR0lOQVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAvLyFBbmltYXRpb25cclxuICAgICAqL1xyXG4gICAgc2hvdyhhbmltYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IGFuaW1hdGlvblxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25JbiA9IEdTQVAudGltZWxpbmUoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Jbi5mcm9tVG8odGhpcy5lbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwXHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b0FscGhhOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9uQ29tcGxldGU6IHJlc29sdmVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Jbi5jYWxsKF8gPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uT3V0ID0gR1NBUC50aW1lbGluZSgpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk91dC50byh0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IHJlc29sdmVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8hRXZlbnRcclxuICAgICAqL1xyXG4gICAgLy8qRGVidWcgZGVsbG8gc2Nyb2xsIHBlciBsbyBzbW9vdGhzY3JvbGxcclxuXHJcbm9uVG91Y2hEb3duKGV2ZW50KSB7XHJcbiAgICBpZiAoIURldGVjdGlvbk1hbmFnZXIuaXNQaG9uZSkgcmV0dXJuO1xyXG5cclxuICAgIHRoaXMuaXNEb3duID0gdHJ1ZTtcclxuXHJcbiAgICB0aGlzLnNjcm9sbC5wb3NpdGlvbiA9IHRoaXMuc2Nyb2xsLmN1cnJlbnQ7XHJcbiAgICB0aGlzLnN0YXJ0ID0gZXZlbnQudG91Y2hlcyA/IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSA6IGV2ZW50LmNsaWVudFk7XHJcbiAgfVxyXG5cclxuICBvblRvdWNoTW92ZShldmVudCkge1xyXG4gICAgaWYgKCFEZXRlY3Rpb25NYW5hZ2VyLmlzUGhvbmUgfHwgIXRoaXMuaXNEb3duKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgeSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZO1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSAodGhpcy5zdGFydCAtIHkpICogMS44O1xyXG5cclxuICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IHRoaXMuc2Nyb2xsLnBvc2l0aW9uICsgZGlzdGFuY2U7XHJcbiAgfVxyXG4gIG9uVG91Y2hVcCgpIHtcclxuICAgIGlmICghRGV0ZWN0aW9uTWFuYWdlci5pc1Bob25lKSByZXR1cm47XHJcblxyXG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcclxuICB9XHJcblxyXG4gICAgb25XaGVlbCh7IHBpeGVsWSB9KSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWVxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwubGltaXQgPSB0aGlzLmVsZW1lbnRzLndyYXBwZXJbMF0uY2xpZW50SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBlYWNoKHRoaXMuYW5pbWF0aW9ucywgYW5pbWF0aW9uID0+IGFuaW1hdGlvbi5vblJlc2l6ZSgpKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8hTG9vcFxyXG4gICAgICovXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ID0gR1NBUC51dGlscy5jbGFtcCgwLCB0aGlzLnNjcm9sbC5saW1pdCwgdGhpcy5zY3JvbGwudGFyZ2V0KVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy5zY3JvbGwuY3VycmVudCwgdGhpcy5zY3JvbGwudGFyZ2V0LCAwLjEpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgMC4wMSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMud3JhcHBlcikge1xyXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXJbMF0uc3R5bGVbdGhpcy50cmFuc2Zvcm1QcmVmaXhdID0gYHRyYW5zbGF0ZVkoLSR7dGhpcy5zY3JvbGwuY3VycmVudH1weClgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8hTGlzdGVuZXJzXHJcbiAgICAgKi9cclxuICAgIGFkZEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgfVxyXG5cclxuICAgIC8vKiBGaW5lIGRlYnVnIGRlbGxvIHNjcm9sbFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogLy8hRGVzdHJveVxyXG4gICAgICovXHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMDg4ODkxNjAxODg5Y2YwYjg4MjFcIikiXSwibmFtZXMiOlsiUGFnZSIsImNvbnN0cnVjdG9yIiwiaWQiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJ0aGlzIiwic2VsZWN0b3IiLCJzZWxlY3RvckNoaWxkcmVuIiwiYW5pbWF0aW9uc1RpdGxlcyIsImFuaW1hdGlvbnNQYXJhZ3JhcGhzIiwiYW5pbWF0aW9uc0xhYmVscyIsImFuaW1hdGlvbnNTZWN0aW9uIiwicHJlbG9hZGVycyIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsYXN0IiwibGltaXQiLCJjcmVhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmdodCIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcmVhdGVQcmVsb2FkZXIiLCJhbmltYXRpb25zIiwibWFwIiwiVGl0bGUiLCJwdXNoIiwiUGFyYWdyYXBoIiwiU2VjdGlvbiIsIkxhYmVsIiwiQXN5bmNMb2FkIiwic2hvdyIsImFuaW1hdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9uSW4iLCJHU0FQIiwiZnJvbVRvIiwiYXV0b0FscGhhIiwiY2FsbCIsIl8iLCJhZGRFdmVudExpc3RlbmVycyIsImhpZGUiLCJkZXN0cm95IiwiYW5pbWF0aW9uT3V0IiwidG8iLCJvbkNvbXBsZXRlIiwib25Ub3VjaERvd24iLCJldmVudCIsIkRldGVjdGlvbk1hbmFnZXIiLCJpc0Rvd24iLCJwb3NpdGlvbiIsInN0YXJ0IiwidG91Y2hlcyIsImNsaWVudFkiLCJvblRvdWNoTW92ZSIsInkiLCJkaXN0YW5jZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJwaXhlbFkiLCJvblJlc2l6ZSIsIndyYXBwZXIiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInVwZGF0ZSIsInN0eWxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=