/*! For license information please see main.7adf65cfe8d4d1fb0e46.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatestarter("main",{"./app/classes/Button.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var i=s("./app/classes/Component.js"),h=s("./node_modules/gsap/index.js");class o extends i.default{constructor({element:e}){super({element:e}),this.timeline=h.default.timeline()}onMouseEnter(){}onMouseLeave(){}addEventListeners(){this.element.addEventListener("mouseenter",this.onMouseEnter),this.element.addEventListener("mouseenter",this.onMouseLeave)}removeEventListeners(){this.element.removeEventListener("mouseenter",this.onMouseEnter),this.element.removeEventListener("mouseenter",this.onMouseLeave)}}},"./app/components/Canvas/Home/Media.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s("./node_modules/ogl/src/core/Texture.js"),h=s("./node_modules/ogl/src/core/Program.js"),o=s("./node_modules/ogl/src/core/Mesh.js"),n=s("./app/shaders/plane-fragment.glsl"),a=s("./app/shaders/plane-vertex.glsl"),r=s("./node_modules/gsap/index.js");class l{constructor({element:e,geometry:t,gl:s,index:i,scene:h,sizes:o}){this.element=e,this.geometry=t,this.gl=s,this.scene=h,this.index=i,this.sizes=o,this.createTexture(),this.createProgram(),this.createMesh(),this.extra={x:0,y:0}}createTexture(){this.texture=new i.Texture(this.gl),this.image=new window.Image,this.image.crossOrigin="anonymous",this.image.src=this.element.getAttribute("data-src"),this.image.onload=e=>this.texture.image=this.image}createProgram(){this.program=new h.Program(this.gl,{fragment:n.default,vertex:a.default,uniforms:{uAlpha:{value:0},tMap:{value:this.texture}}})}createMesh(){this.mesh=new o.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene),this.mesh.scale.x=2}createBounds({sizes:e}){this.sizes=e,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}show(){r.default.fromTo(this.program.uniforms.uAlpha,{value:0},{value:1})}hide(){r.default.to(this.program.uniforms.uAlpha,{value:0})}onResize(e,t){this.extra={x:0,y:0},this.createBounds(e),this.updateX(t&&t.x),this.updateY(t&&t.y)}updateScale(){this.width=this.bounds.width/window.innerWidth,this.height=this.bounds.height/window.innerHeight,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(e=0){this.x=(this.bounds.left+e)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra.x}updateY(e=0){this.y=(this.bounds.top+e)/window.innerHeight,this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height+this.extra.y}update(e){this.bounds&&this.updateX(e.x)}}},"./app/components/Canvas/Home/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});var i=s("./node_modules/lodash/lodash.js"),h=s("./node_modules/ogl/src/core/Transform.js"),o=s("./node_modules/ogl/src/extras/Plane.js"),n=s("./app/components/Canvas/Home/Media.js"),a=s("./node_modules/gsap/index.js");const r=class{constructor({gl:e,scene:t,sizes:s}){this.gl=e,this.sizes=s,this.scene=t,this.group=new h.Transform,this.galleryElement=document.querySelector(".home__gallery__wrapper"),this.mediasElements=document.querySelectorAll(".home__gallery__media__image"),this.x={current:0,target:0,lerp:.1},this.y={current:0,target:0,lerp:.1},this.scrollCurrent={x:0,y:0},this.scroll={x:0,y:0},this.createGeometry(),this.createGallery(),this.group.setParent(this.scene),this.show()}createGeometry(){this.geometry=new o.Plane(this.gl)}createGallery(){this.medias=(0,i.map)(this.mediasElements,((e,t)=>new n.default({element:e,geometry:this.geometry,index:t,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){(0,i.map)(this.medias,(e=>e.show()))}hide(){(0,i.map)(this.medias,(e=>e.hide()))}onResize(e){this.galleryBounds=this.galleryElement.getBoundingClientRect(),this.sizes=e.sizes,this.gallerySizes={width:this.galleryBounds.width/window.innerWidth*this.sizes.width,height:this.galleryBounds.height/window.innerHeight*this.sizes.height},this.scroll.x=this.x.target=0,this.scroll.y=this.y.target=0,(0,i.map)(this.medias,(t=>t.onResize(e,this.scroll)))}onTouchDown({x:e,y:t}){this.scrollCurrent.x=this.scroll.x,this.scrollCurrent.y=this.scroll.y}onTouchMove({x:e,y:t}){const s=e.start-e.end,i=t.start-t.end;this.x.target=this.scrollCurrent.x-s,this.y.target=this.scrollCurrent.y-i}onTouchUp({x:e,y:t}){}onWheel({pixelX:e,pixelY:t}){this.x.target+=e,this.y.target+=t}update(){this.galleryBounds&&(this.x.current=a.default.utils.interpolate(this.x.current,this.x.target,this.x.lerp),this.y.current=a.default.utils.interpolate(this.y.current,this.y.target,this.y.lerp),this.scroll.x<this.x.current?this.x.direction="right":this.scroll.x>this.x.current&&(this.x.direction="left"),this.scroll.y<this.y.current?this.y.direction="top":this.scroll.y>this.y.current&&(this.y.direction="bottom"),this.scroll.x=this.x.current,this.scroll.y=this.y.current,(0,i.map)(this.medias,((e,t)=>{const s=e.mesh.scale.x/2,i=e.mesh.scale.y/2;if("left"===this.x.direction){e.mesh.position.x+s<-this.sizes.width/2&&(e.extra.x+=this.gallerySizes.width)}else if("right"===this.x.direction){e.mesh.position.x-s>this.sizes.width/2&&(e.extra.x-=this.gallerySizes.width)}if("top"===this.y.direction){e.mesh.position.y+i<-this.sizes.width/2&&(e.extra.y+=this.gallerySizes.height)}else if("bottom"===this.y.direction){e.mesh.position.y-i>this.sizes.width/2&&(e.extra.y-=this.gallerySizes.height)}e.update(this.scroll)})))}destroy(){this.scene.removeChild(this.group)}}},"./app/components/Canvas/Project/Gallery.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var i=s("./node_modules/lodash/lodash.js"),h=s("./app/components/Canvas/Project/Media.js"),o=s("./node_modules/gsap/index.js"),n=s("./node_modules/ogl/src/core/Transform.js");class a{constructor({element:e,geometry:t,index:s,gl:i,scene:h,sizes:o}){this.element=e,this.elementWrapper=e.querySelector(".project__mobile__wrapper"),this.geometry=t,this.index=s,this.gl=i,this.scene=h,this.sizes=o,this.group=new n.Transform,this.scroll={current:0,target:0,last:0,start:0,lerp:.1},this.createMedias(),this.group.setParent(this.scene)}createMedias(){this.mediasElements=this.element.querySelectorAll(".project__mobile__image"),this.medias=(0,i.map)(this.mediasElements,((e,t)=>new h.default({element:e,geometry:this.geometry,index:t,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){(0,i.map)(this.medias,(e=>e.show()))}hide(){(0,i.map)(this.medias,(e=>e.hide()))}onResize(e){this.bounds=this.elementWrapper.getBoundingClientRect(),this.sizes=e.sizes,this.width=this.bounds.width/window.innerWidth*this.sizes.width,this.scroll.current=this.scroll.target=0,(0,i.map)(this.medias,(t=>t.onResize(e,this.scroll.current)))}onTouchDown({x:e,y:t}){this.scroll.start=this.scroll.current}onTouchMove({x:e,y:t}){const s=e.start-e.end;this.scroll.target=this.scroll.start-s}onTouchUp({x:e,y:t}){}update(){this.bounds&&(this.scroll.current<this.scroll.target?this.direction="right":this.scroll.current>this.scroll.target&&(this.direction="left"),this.scroll.current=o.default.utils.interpolate(this.scroll.current,this.scroll.target,this.scroll.lerp),(0,i.map)(this.medias,((e,t)=>{const s=e.mesh.scale.x/2;if("left"===this.direction){e.mesh.position.x+s<-this.sizes.width/2&&(e.extra+=this.width)}else if("right"===this.direction){e.mesh.position.x-s>this.sizes.width/2&&(e.extra-=this.width)}e.update(this.scroll.current)})))}destroy(){this.scene.removeChild(this.group)}}},"./app/components/Canvas/Project/Media.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var i=s("./node_modules/ogl/src/core/Texture.js"),h=s("./node_modules/ogl/src/core/Program.js"),o=s("./node_modules/ogl/src/core/Mesh.js"),n=s("./app/shaders/plane-fragment.glsl"),a=s("./app/shaders/plane-vertex.glsl"),r=s("./node_modules/gsap/index.js");class l{constructor({element:e,geometry:t,gl:s,index:i,scene:h,sizes:o}){this.element=e,this.geometry=t,this.gl=s,this.scene=h,this.index=i,this.sizes=o,this.createTexture(),this.createProgram(),this.createMesh(),this.extra={x:0,y:0}}createTexture(){this.texture=new i.Texture(this.gl);const e=this.element.querySelector("img");this.image=new window.Image,this.image.crossOrigin="anonymous",this.image.src=e.getAttribute("data-src"),this.image.onload=e=>this.texture.image=this.image}createProgram(){this.program=new h.Program(this.gl,{fragment:n.default,vertex:a.default,uniforms:{uAlpha:{value:0},tMap:{value:this.texture}}})}createMesh(){this.mesh=new o.Mesh(this.gl,{geometry:this.geometry,program:this.program}),this.mesh.setParent(this.scene)}createBounds({sizes:e}){this.sizes=e,this.bounds=this.element.getBoundingClientRect(),this.updateScale(),this.updateX(),this.updateY()}show(){r.default.fromTo(this.program.uniforms.uAlpha,{value:0},{value:1})}hide(){r.default.to(this.program.uniforms.uAlpha,{value:0})}onResize(e,t){this.extra=0,this.createBounds(e),this.updateX(t),this.updateY(0)}updateScale(){this.width=this.bounds.width/window.innerWidth,this.height=this.bounds.height/window.innerHeight,this.mesh.scale.x=this.sizes.width*this.width,this.mesh.scale.y=this.sizes.height*this.height}updateX(e=0){this.x=(this.bounds.left+e)/window.innerWidth,this.mesh.position.x=-this.sizes.width/2+this.mesh.scale.x/2+this.x*this.sizes.width+this.extra}updateY(e=0){this.y=(this.bounds.top+e)/window.innerHeight,this.mesh.position.y=this.sizes.height/2-this.mesh.scale.y/2-this.y*this.sizes.height}update(e){this.bounds&&(this.updateX(e),this.updateY(0))}}},"./app/components/Canvas/Project/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var i=s("./node_modules/lodash/lodash.js"),h=s("./node_modules/ogl/src/core/Transform.js"),o=s("./node_modules/ogl/src/extras/Plane.js"),n=s("./app/components/Canvas/Project/Gallery.js");const a=class{constructor({gl:e,scene:t,sizes:s}){this.gl=e,this.sizes=s,this.group=new h.Transform,this.createGeometry(),this.createGalleries(),this.group.setParent(t),this.show()}createGeometry(){this.geometry=new o.Plane(this.gl)}createGalleries(){this.galleriesElements=document.querySelectorAll(".project__mobile"),this.galleries=(0,i.map)(this.galleriesElements,((e,t)=>new n.default({element:e,geometry:this.geometry,index:t,gl:this.gl,scene:this.group,sizes:this.sizes})))}show(){(0,i.map)(this.galleries,(e=>e.show()))}hide(){(0,i.map)(this.galleries,(e=>e.hide()))}onResize(e){(0,i.map)(this.galleries,(t=>t.onResize(e)))}onTouchDown(e){(0,i.map)(this.galleries,(t=>t.onTouchDown(e)))}onTouchMove(e){(0,i.map)(this.galleries,(t=>t.onTouchMove(e)))}onTouchUp(e){(0,i.map)(this.galleries,(t=>t.onTouchUp(e)))}onWheel({pixelX:e,pixelY:t}){}update(){(0,i.map)(this.galleries,(e=>e.update()))}destroy(){(0,i.map)(this.galleries,(e=>e.destroy()))}}},"./app/components/Canvas/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});s("./node_modules/lodash/lodash.js");var i=s("./node_modules/ogl/src/core/Renderer.js"),h=s("./node_modules/ogl/src/core/Camera.js"),o=s("./node_modules/ogl/src/core/Transform.js"),n=s("./app/components/Canvas/Home/index.js"),a=s("./app/components/Canvas/Project/index.js");class r{constructor({template:e}){this.template=e,this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},this.createRenderer(),this.createCamera(),this.createScene(),this.onResize(),this.onChangeEnd(this.template)}createRenderer(){this.renderer=new i.Renderer({alpha:!0,antialias:!0}),this.gl=this.renderer.gl,document.body.appendChild(this.gl.canvas)}createCamera(){this.camera=new h.Camera(this.gl),this.camera.position.z=5}createScene(){this.scene=new o.Transform}createHome(){this.home=new n.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyHome(){this.home&&(this.home.destroy(),this.home=null)}createProject(){this.project=new a.default({gl:this.gl,scene:this.scene,sizes:this.sizes})}destroyProject(){this.project&&(this.project.destroy(),this.project=null)}onChangeStart(){this.home&&this.home.hide(),this.project&&this.project.hide()}onChangeEnd(e){"home"===e?this.createHome():this.destroyHome(),"project"===e?this.createProject():this.destroyProject()}onResize(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.camera.perspective({aspect:window.innerWidth/window.innerHeight});const e=this.camera.fov*(Math.PI/180),t=2*Math.tan(e/2)*this.camera.position.z,s=t*this.camera.aspect;this.sizes={height:t,width:s};const i={sizes:this.sizes};this.project&&this.project.onResize(i),this.home&&this.home.onResize(i)}onTouchDown(e){this.isDown=!0,this.x.start=e.touches?e.touches[0].clientX:e.clientX,this.y.start=e.touches?e.touches[0].clientY:e.clientY;const t={x:this.x,y:this.y};this.project&&this.project.onTouchDown(t),this.home&&this.home.onTouchDown(t)}onTouchMove(e){if(!this.isDown)return;const t=e.touches?e.touches[0].clientX:e.clientX,s=e.touches?e.touches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const i={x:this.x,y:this.y};this.project&&this.project.onTouchMove(i),this.home&&this.home.onTouchMove(i)}onTouchUp(e){this.isDown=!1;const t=e.changedTouches?e.changedTouches[0].clientX:e.clientX,s=e.changedTouches?e.changedTouches[0].clientY:e.clientY;this.x.end=t,this.y.end=s;const i={x:this.x,y:this.y};this.project&&this.project.onTouchUp(i),this.home&&this.home.onTouchUp(i)}onWheel(e){this.home&&this.home.onWheel(e)}update(){this.project&&this.project.update(),this.home&&this.home.update(),this.renderer.render({camera:this.camera,scene:this.scene})}}},"./app/index.js":(e,t,s)=>{s.r(t);var i=s("./app/pages/About/index.js"),h=s("./app/pages/Projects/index.js"),o=s("./node_modules/lodash/each.js"),n=s.n(o),a=s("./app/pages/Home/index.js"),r=s("./app/components/Preloader.js"),l=(s("./app/classes/Detection.js"),s("./node_modules/normalize-wheel/index.js")),c=s.n(l),d=s("./app/components/Canvas/index.js");new class{constructor(){this.createContent(),this.createPreloader(),this.createPages(),this.createCanvas(),this.addEventListeners(),this.addLinkListeners(),this.update()}createPreloader(){this.preloader=new r.default,this.preloader.once("complete",this.onPreloaded.bind(this))}createCanvas(){this.canvas=new d.default({template:this.template})}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={about:new i.default,home:new a.default,project:new h.default},this.page=this.pages[this.template],this.page.create()}onPreloaded(){this.preloader.destroy(),this.onResize(),this.page.show()}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t=!0}){this.canvas.onChangeStart(this.template),await this.page.hide();const s=await window.fetch(e);if(200===s.status){const i=await s.text(),h=document.createElement("div");t&&window.history.pushState({},"",e),h.innerHTML=i;const o=h.querySelector(".content");this.template=o.getAttribute("data-template"),this.content.setAttribute("data-template",this.template),this.content.innerHTML=o.innerHTML,this.canvas.onChangeEnd(this.template),this.page=this.pages[this.template],this.page.create(),this.onResize(),this.page.show(),this.addLinkListeners()}else console.log("error")}onResize(){this.canvas&&this.canvas.onResize&&this.canvas.onResize(),window.requestAnimationFrame((e=>{this.page&&this.page.onResize&&this.page.onResize()}))}onTouchDown(e){this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const t=c()(e);this.canvas&&this.canvas.onWheel&&this.canvas.onWheel(t),this.page&&this.page.onWheel&&this.page.onWheel(t)}update(){this.canvas&&this.canvas.update&&this.canvas.update(),this.page&&this.page.update&&this.page.update(),this.frame=window.requestAnimationFrame(this.update.bind(this))}addEventListeners(){window.addEventListener("mousewheel",this.onWheel.bind(this)),window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");n()(e,(e=>{e.onclick=t=>{const{href:s}=e;t.preventDefault(),this.onChange({url:s})}}))}}},"./styles/index.scss":(e,t,s)=>{s.r(t);var i=s("./node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js")(e.id,{publicPath:"",locals:!1});e.hot.dispose(i),e.hot.accept(void 0,i)}},(function(e){e.h=()=>"185e394b55aed44d7f6a"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUt3RixRQUFRaUUsS0FBS3pKLE9BRXhEd0IsT0FBT2xCLGlCQUFpQixXQUFZTixLQUFLZ0ssV0FBV1AsS0FBS3pKLE9BRXpEd0IsT0FBT2xCLGlCQUFpQixZQUFhTixLQUFLaUYsWUFBWXdFLEtBQUt6SixPQUMzRHdCLE9BQU9sQixpQkFBaUIsWUFBYU4sS0FBS2tGLFlBQVl1RSxLQUFLekosT0FDM0R3QixPQUFPbEIsaUJBQWlCLFVBQVdOLEtBQUt1RixVQUFVa0UsS0FBS3pKLE9BRXZEd0IsT0FBT2xCLGlCQUFpQixhQUFjTixLQUFLaUYsWUFBWXdFLEtBQUt6SixPQUM1RHdCLE9BQU9sQixpQkFBaUIsWUFBYU4sS0FBS2tGLFlBQVl1RSxLQUFLekosT0FDM0R3QixPQUFPbEIsaUJBQWlCLFdBQVlOLEtBQUt1RixVQUFVa0UsS0FBS3pKLE9BRXhEd0IsT0FBT2xCLGlCQUFpQixTQUFVTixLQUFLbUQsU0FBU3NHLEtBQUt6SixNQUN4RCxDQUVEb0osbUJBQ0ksTUFBTW9DLEVBQVF4SCxTQUFTRyxpQkFBaUIsS0FFeENzSCxJQUFLRCxHQUFPRSxJQUNSQSxFQUFLQyxRQUFVN0csSUFDWCxNQUFNLEtBQUU4RyxHQUFTRixFQUNqQjVHLEVBQU0rRyxpQkFFTjdMLEtBQUtpSyxTQUFTLENBQUVDLElBQUswQixHQUFyQixDQUpKLEdBUVAsMkNDdk5DLElBQUlFLEVBQVksRUFBUSwwRUFBUixDQUFvRkMsRUFBT0MsR0FBSSxDQUFDLFdBQWEsR0FBRyxRQUFTLElBQ3pJRCxFQUFPRSxJQUFJQyxRQUFRSixHQUNuQkMsRUFBT0UsSUFBSUUsWUFBT0MsRUFBV04sa0JDTm5DTyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jbGFzc2VzL0J1dHRvbi5qcyIsIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvTWVkaWEuanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9Ib21lL2luZGV4LmpzIiwid2VicGFjazovL3N0YXJ0ZXIvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvUHJvamVjdC9HYWxsZXJ5LmpzIiwid2VicGFjazovL3N0YXJ0ZXIvLi9hcHAvY29tcG9uZW50cy9DYW52YXMvUHJvamVjdC9NZWRpYS5qcyIsIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL1Byb2plY3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jb21wb25lbnRzL0NhbnZhcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2luZGV4LmpzIiwid2VicGFjazovL3N0YXJ0ZXIvLi9zdHlsZXMvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly9zdGFydGVyL3dlYnBhY2svcnVudGltZS9nZXRGdWxsSGFzaCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50J1xyXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWxlbWVudCB9KSB7XHJcbiAgICAgICAgc3VwZXIoeyBlbGVtZW50IH0pXHJcblxyXG4gICAgICAgIHRoaXMudGltZWxpbmUgPSBHU0FQLnRpbWVsaW5lKClcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBvbk1vdXNlRW50ZXIoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgb25Nb3VzZUxlYXZlKCkge1xyXG4gICAgfVxyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCB0aGlzLm9uTW91c2VFbnRlcilcclxuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUxlYXZlKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMub25Nb3VzZUVudGVyKVxyXG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgdGhpcy5vbk1vdXNlTGVhdmUpXHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTWVzaCwgUHJvZ3JhbSwgVGV4dHVyZSB9IGZyb20gJ29nbCdcclxuXHJcbmltcG9ydCBmcmFnbWVudCBmcm9tICdzaGFkZXJzL3BsYW5lLWZyYWdtZW50Lmdsc2wnXHJcbmltcG9ydCB2ZXJ0ZXggZnJvbSAnc2hhZGVycy9wbGFuZS12ZXJ0ZXguZ2xzbCdcclxuXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGdlb21ldHJ5LCBnbCwgaW5kZXgsIHNjZW5lLCBzaXplcyB9KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxyXG4gICAgICAgIHRoaXMuZ2wgPSBnbFxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvZ3JhbSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZXNoKClcclxuXHJcbiAgICAgICAgdGhpcy5leHRyYSA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNyZWF0ZVRleHR1cmUoKSB7XHJcbiAgICAgICAgdGhpcy50ZXh0dXJlID0gbmV3IFRleHR1cmUodGhpcy5nbClcclxuXHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKClcclxuICAgICAgICB0aGlzLmltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cydcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcclxuICAgICAgICB0aGlzLmltYWdlLm9ubG9hZCA9IF8gPT4gKHRoaXMudGV4dHVyZS5pbWFnZSA9IHRoaXMuaW1hZ2UpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUHJvZ3JhbSgpIHtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbmV3IFByb2dyYW0odGhpcy5nbCwge1xyXG4gICAgICAgICAgICBmcmFnbWVudCxcclxuICAgICAgICAgICAgdmVydGV4LFxyXG4gICAgICAgICAgICB1bmlmb3Jtczoge1xyXG4gICAgICAgICAgICAgICAgdUFscGhhOiB7IHZhbHVlOiAwIH0sXHJcbiAgICAgICAgICAgICAgICB0TWFwOiB7IHZhbHVlOiB0aGlzLnRleHR1cmUgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTWVzaCgpIHtcclxuICAgICAgICB0aGlzLm1lc2ggPSBuZXcgTWVzaCh0aGlzLmdsLCB7XHJcbiAgICAgICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxyXG4gICAgICAgICAgICBwcm9ncmFtOiB0aGlzLnByb2dyYW1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICB0aGlzLm1lc2guc2V0UGFyZW50KHRoaXMuc2NlbmUpXHJcblxyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS54ID0gMlxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJvdW5kcyh7IHNpemVzIH0pIHtcclxuICAgICAgICB0aGlzLnNpemVzID0gc2l6ZXNcclxuXHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZSgpXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKClcclxuICAgICAgICB0aGlzLnVwZGF0ZVkoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBBbmltYXRpb25zXHJcbiAgICAgKi9cclxuXHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBHU0FQLmZyb21Ubyh0aGlzLnByb2dyYW0udW5pZm9ybXMudUFscGhhLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBHU0FQLnRvKHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51QWxwaGEsIHtcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgICogRXZlbnRzXHJcbiAgICAgICovXHJcbiAgICBvblJlc2l6ZShzaXplcywgc2Nyb2xsKSB7XHJcbiAgICAgICAgdGhpcy5leHRyYSA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNyZWF0ZUJvdW5kcyhzaXplcylcclxuICAgICAgICB0aGlzLnVwZGF0ZVgoc2Nyb2xsICYmIHNjcm9sbC54KVxyXG4gICAgICAgIHRoaXMudXBkYXRlWShzY3JvbGwgJiYgc2Nyb2xsLnkpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMT09QXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZVNjYWxlKCkge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmJvdW5kcy53aWR0aCAvIHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmJvdW5kcy5oZWlnaHQgLyB3aW5kb3cuaW5uZXJIZWlnaHRcclxuXHJcbiAgICAgICAgdGhpcy5tZXNoLnNjYWxlLnggPSB0aGlzLnNpemVzLndpZHRoICogdGhpcy53aWR0aFxyXG4gICAgICAgIHRoaXMubWVzaC5zY2FsZS55ID0gdGhpcy5zaXplcy5oZWlnaHQgKiB0aGlzLmhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVgoeCA9IDApIHtcclxuICAgICAgICB0aGlzLnggPSAodGhpcy5ib3VuZHMubGVmdCArIHgpIC8gd2luZG93LmlubmVyV2lkdGhcclxuICAgICAgICB0aGlzLm1lc2gucG9zaXRpb24ueCA9ICgtdGhpcy5zaXplcy53aWR0aCAvIDIpICsgKHRoaXMubWVzaC5zY2FsZS54IC8gMikgKyAodGhpcy54ICogdGhpcy5zaXplcy53aWR0aCkgKyB0aGlzLmV4dHJhLnhcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVZKHkgPSAwKSB7XHJcbiAgICAgICAgdGhpcy55ID0gKHRoaXMuYm91bmRzLnRvcCArIHkpIC8gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnkgPSAodGhpcy5zaXplcy5oZWlnaHQgLyAyKSAtICh0aGlzLm1lc2guc2NhbGUueSAvIDIpIC0gKHRoaXMueSAqIHRoaXMuc2l6ZXMuaGVpZ2h0KSArIHRoaXMuZXh0cmEueVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShzY3JvbGwpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzKSByZXR1cm5cclxuICAgICAgICB0aGlzLnVwZGF0ZVgoc2Nyb2xsLngpXHJcbiAgICAgICAgLy8gdGhpcy51cGRhdGVZKHNjcm9sbC55KVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgbWFwIH0gZnJvbSBcImxvZGFzaFwiXHJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tIFwib2dsXCJcclxuaW1wb3J0IE1lZGlhIGZyb20gXCIuL01lZGlhXCJcclxuXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGdsLCBzY2VuZSwgc2l6ZXMgfSkge1xyXG4gICAgICAgIHRoaXMuZ2wgPSBnbFxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxyXG5cclxuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IFRyYW5zZm9ybSgpXHJcblxyXG4gICAgICAgIHRoaXMuZ2FsbGVyeUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaG9tZV9fZ2FsbGVyeV9fd3JhcHBlcicpXHJcbiAgICAgICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ob21lX19nYWxsZXJ5X19tZWRpYV9faW1hZ2UnKVxyXG5cclxuICAgICAgICB0aGlzLnggPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGVycDogMC4xXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnkgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGVycDogMC4xXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxDdXJyZW50ID0ge1xyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVHZW9tZXRyeSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVHYWxsZXJ5KClcclxuXHJcbiAgICAgICAgdGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcclxuXHJcbiAgICAgICAgdGhpcy5zaG93KClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHZW9tZXRyeSgpIHtcclxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbmV3IFBsYW5lKHRoaXMuZ2wpXHJcbiAgICB9XHJcbiAgICBjcmVhdGVHYWxsZXJ5KCkge1xyXG4gICAgICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1lZGlhKHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXHJcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5ncm91cCxcclxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICogQW5pbWF0aW9uc1xyXG4gICAgICovXHJcblxyXG4gICAgc2hvdygpe1xyXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuc2hvdygpKVxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKXtcclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLmhpZGUoKSlcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudHNcclxuICAgICAqL1xyXG4gICAgb25SZXNpemUoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBldmVudC5zaXplc1xyXG5cclxuICAgICAgICB0aGlzLmdhbGxlcnlTaXplcyA9IHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZ2FsbGVyeUJvdW5kcy53aWR0aCAvIHdpbmRvdy5pbm5lcldpZHRoICogdGhpcy5zaXplcy53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdhbGxlcnlCb3VuZHMuaGVpZ2h0IC8gd2luZG93LmlubmVySGVpZ2h0ICogdGhpcy5zaXplcy5oZWlnaHRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLngudGFyZ2V0ID0gMFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkudGFyZ2V0ID0gMFxyXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsKSlcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRG93bih7IHgsIHkgfSkge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudC54ID0gdGhpcy5zY3JvbGwueFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsQ3VycmVudC55ID0gdGhpcy5zY3JvbGwueVxyXG4gICAgfVxyXG4gICAgb25Ub3VjaE1vdmUoeyB4LCB5IH0pIHtcclxuICAgICAgICBjb25zdCB4RGlzdGFuY2UgPSB4LnN0YXJ0IC0geC5lbmRcclxuICAgICAgICBjb25zdCB5RGlzdGFuY2UgPSB5LnN0YXJ0IC0geS5lbmRcclxuXHJcbiAgICAgICAgdGhpcy54LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC54IC0geERpc3RhbmNlXHJcbiAgICAgICAgdGhpcy55LnRhcmdldCA9IHRoaXMuc2Nyb2xsQ3VycmVudC55IC0geURpc3RhbmNlXHJcblxyXG4gICAgfVxyXG4gICAgb25Ub3VjaFVwKHsgeCwgeSB9KSB7IH1cclxuXHJcbiAgICBvbldoZWVsKHsgcGl4ZWxYLCBwaXhlbFkgfSkge1xyXG4gICAgICAgIHRoaXMueC50YXJnZXQgKz0gcGl4ZWxYXHJcbiAgICAgICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFlcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVQREFURVxyXG4gICAgICovXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5nYWxsZXJ5Qm91bmRzKSByZXR1cm5cclxuXHJcbiAgICAgICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycClcclxuICAgICAgICB0aGlzLnkuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy55LmN1cnJlbnQsIHRoaXMueS50YXJnZXQsIHRoaXMueS5sZXJwKVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zY3JvbGwueCA8IHRoaXMueC5jdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMueC5kaXJlY3Rpb24gPSAncmlnaHQnXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjcm9sbC54ID4gdGhpcy54LmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy54LmRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnkgPCB0aGlzLnkuY3VycmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2Nyb2xsLnkgPiB0aGlzLnkuY3VycmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ2JvdHRvbSdcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnkgPSB0aGlzLnkuY3VycmVudFxyXG5cclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gbWVkaWEubWVzaC5zY2FsZS54IC8gMlxyXG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54ICsgc2NhbGVYXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS54ICs9IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54LmRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IG1lZGlhLm1lc2gucG9zaXRpb24ueCAtIHNjYWxlWFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh4ID4gdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYS54IC09IHRoaXMuZ2FsbGVyeVNpemVzLndpZHRoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8qVVAgRE9XTlxyXG4gICAgICAgICAgICBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ3RvcCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgKyBzY2FsZVlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeSA8IC10aGlzLnNpemVzLndpZHRoIC8gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhLmV4dHJhLnkgKz0gdGhpcy5nYWxsZXJ5U2l6ZXMuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy55LmRpcmVjdGlvbiA9PT0gJ2JvdHRvbScpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnkgLSBzY2FsZVlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeSA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEueSAtPSB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWRzdHJveVxyXG4gICAgICovXHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZUNoaWxkKHRoaXMuZ3JvdXApXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBtYXAgfSBmcm9tIFwibG9kYXNoXCJcclxuaW1wb3J0IE1lZGlhIGZyb20gXCIuL01lZGlhXCJcclxuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcclxuaW1wb3J0IHsgVHJhbnNmb3JtIH0gZnJvbSBcIm9nbFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5IHtcclxuICAgIGNvbnN0cnVjdG9yKHsgZWxlbWVudCwgZ2VvbWV0cnksIGluZGV4LCBnbCwgc2NlbmUsIHNpemVzIH0pIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XHJcbiAgICAgICAgdGhpcy5lbGVtZW50V3JhcHBlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3RfX21vYmlsZV9fd3JhcHBlcicpXHJcbiAgICAgICAgdGhpcy5nZW9tZXRyeSA9IGdlb21ldHJ5XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4XHJcbiAgICAgICAgdGhpcy5nbCA9IGdsXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lXHJcbiAgICAgICAgdGhpcy5zaXplcyA9IHNpemVzXHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVHJhbnNmb3JtKClcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGFzdDogMCxcclxuICAgICAgICAgICAgc3RhcnQ6IDAsXHJcbiAgICAgICAgICAgIGxlcnA6IDAuMVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZWRpYXMoKVxyXG5cclxuICAgICAgICB0aGlzLmdyb3VwLnNldFBhcmVudCh0aGlzLnNjZW5lKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1lZGlhcygpIHtcclxuICAgICAgICB0aGlzLm1lZGlhc0VsZW1lbnRzID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0X19tb2JpbGVfX2ltYWdlJylcclxuICAgICAgICB0aGlzLm1lZGlhcyA9IG1hcCh0aGlzLm1lZGlhc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNZWRpYSh7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXHJcbiAgICAgICAgICAgICAgICBpbmRleCxcclxuICAgICAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxyXG4gICAgICAgICAgICAgICAgc2NlbmU6IHRoaXMuZ3JvdXAsXHJcbiAgICAgICAgICAgICAgICBzaXplczogdGhpcy5zaXplc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLnNob3coKSlcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCkge1xyXG4gICAgICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuaGlkZSgpKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICogRXZlbnRzXHJcbiAgICAqL1xyXG4gICAgb25SZXNpemUoZXZlbnQpIHtcclxuXHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnRXcmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBldmVudC5zaXplc1xyXG5cclxuICAgICAgICB0aGlzLndpZHRoID0gKHRoaXMuYm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGgpICogdGhpcy5zaXplcy53aWR0aFxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gdGhpcy5zY3JvbGwudGFyZ2V0ID0gMFxyXG5cclxuICAgICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSkgPT4gbWVkaWEub25SZXNpemUoZXZlbnQsIHRoaXMuc2Nyb2xsLmN1cnJlbnQpKVxyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hEb3duKHsgeCwgeSB9KSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGwuc3RhcnQgPSB0aGlzLnNjcm9sbC5jdXJyZW50XHJcbiAgICB9XHJcbiAgICBvblRvdWNoTW92ZSh7IHgsIHkgfSkge1xyXG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0geC5zdGFydCAtIHguZW5kXHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsLnRhcmdldCA9IHRoaXMuc2Nyb2xsLnN0YXJ0IC0gZGlzdGFuY2VcclxuXHJcbiAgICB9XHJcbiAgICBvblRvdWNoVXAoeyB4LCB5IH0pIHsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVVBEQVRFXHJcbiAgICAgKi9cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJvdW5kcykgcmV0dXJuXHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgdGhpcy5zY3JvbGwudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3JpZ2h0J1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwuY3VycmVudCA+IHRoaXMuc2Nyb2xsLnRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiA9ICdsZWZ0J1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IEdTQVAudXRpbHMuaW50ZXJwb2xhdGUodGhpcy5zY3JvbGwuY3VycmVudCwgdGhpcy5zY3JvbGwudGFyZ2V0LCB0aGlzLnNjcm9sbC5sZXJwKVxyXG5cclxuXHJcbiAgICAgICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlWCA9IG1lZGlhLm1lc2guc2NhbGUueCAvIDJcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gbWVkaWEubWVzaC5wb3NpdGlvbi54ICsgc2NhbGVYXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHggPCAtdGhpcy5zaXplcy53aWR0aCAvIDIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYS5leHRyYSArPSB0aGlzLndpZHRoXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1lZGlhLm1lc2gucm90YXRpb24ueiA9IEdTQVAudXRpbHMucmFuZG9tKC1NYXRoLlBJICogMC4wMywgTWF0aC5QSSAqIDAuMDMpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5kaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBtZWRpYS5tZXNoLnBvc2l0aW9uLnggLSBzY2FsZVhcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeCA+IHRoaXMuc2l6ZXMud2lkdGggLyAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuZXh0cmEgLT0gdGhpcy53aWR0aFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBtZWRpYS5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDAuMDMsIE1hdGguUEkgKiAwLjAzKVxyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVkaWEudXBkYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cClcclxuICAgIH1cclxufSIsImltcG9ydCB7IE1lc2gsIFByb2dyYW0sIFRleHR1cmUgfSBmcm9tICdvZ2wnXHJcblxyXG5pbXBvcnQgZnJhZ21lbnQgZnJvbSAnc2hhZGVycy9wbGFuZS1mcmFnbWVudC5nbHNsJ1xyXG5pbXBvcnQgdmVydGV4IGZyb20gJ3NoYWRlcnMvcGxhbmUtdmVydGV4Lmdsc2wnXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZWRpYSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGVsZW1lbnQsIGdlb21ldHJ5LCBnbCwgaW5kZXgsIHNjZW5lLCBzaXplcyB9KSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeVxyXG4gICAgICAgIHRoaXMuZ2wgPSBnbFxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZVxyXG4gICAgICAgIHRoaXMuaW5kZXggPSBpbmRleFxyXG4gICAgICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUHJvZ3JhbSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVNZXNoKClcclxuXHJcbiAgICAgICAgdGhpcy5leHRyYSA9IHtcclxuICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgeTogMFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUZXh0dXJlKCkge1xyXG4gICAgICAgIHRoaXMudGV4dHVyZSA9IG5ldyBUZXh0dXJlKHRoaXMuZ2wpXHJcblxyXG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpXHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgd2luZG93LkltYWdlKClcclxuICAgICAgICB0aGlzLmltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cydcclxuICAgICAgICB0aGlzLmltYWdlLnNyYyA9IGltYWdlLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKVxyXG4gICAgICAgIHRoaXMuaW1hZ2Uub25sb2FkID0gXyA9PiAodGhpcy50ZXh0dXJlLmltYWdlID0gdGhpcy5pbWFnZSlcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVQcm9ncmFtKCkge1xyXG5cclxuICAgICAgICB0aGlzLnByb2dyYW0gPSBuZXcgUHJvZ3JhbSh0aGlzLmdsLCB7XHJcbiAgICAgICAgICAgIGZyYWdtZW50LFxyXG4gICAgICAgICAgICB2ZXJ0ZXgsXHJcbiAgICAgICAgICAgIHVuaWZvcm1zOiB7XHJcbiAgICAgICAgICAgICAgICB1QWxwaGE6IHsgdmFsdWU6IDAgfSxcclxuICAgICAgICAgICAgICAgIHRNYXA6IHsgdmFsdWU6IHRoaXMudGV4dHVyZSB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNZXNoKCkge1xyXG4gICAgICAgIHRoaXMubWVzaCA9IG5ldyBNZXNoKHRoaXMuZ2wsIHtcclxuICAgICAgICAgICAgZ2VvbWV0cnk6IHRoaXMuZ2VvbWV0cnksXHJcbiAgICAgICAgICAgIHByb2dyYW06IHRoaXMucHJvZ3JhbVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHRoaXMubWVzaC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcclxuXHJcbiAgICAgICAgLy8gdGhpcy5tZXNoLnJvdGF0aW9uLnogPSBHU0FQLnV0aWxzLnJhbmRvbSgtTWF0aC5QSSAqIDEuMDMsIE1hdGguUEkgKiAwLjAzKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUJvdW5kcyh7IHNpemVzIH0pIHtcclxuICAgICAgICB0aGlzLnNpemVzID0gc2l6ZXNcclxuXHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVTY2FsZSgpXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKClcclxuICAgICAgICB0aGlzLnVwZGF0ZVkoKVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKiBcclxuICAgICogQW5pbWF0aW9uc1xyXG4gICAgKi9cclxuXHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICBHU0FQLmZyb21Ubyh0aGlzLnByb2dyYW0udW5pZm9ybXMudUFscGhhLCB7XHJcbiAgICAgICAgICAgIHZhbHVlOiAwXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICB2YWx1ZTogMVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaGlkZSgpIHtcclxuICAgICAgICBHU0FQLnRvKHRoaXMucHJvZ3JhbS51bmlmb3Jtcy51QWxwaGEsIHtcclxuICAgICAgICAgICAgdmFsdWU6IDBcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgLypcclxuICAgIC8qKlxyXG4gICAgICAqIEV2ZW50c1xyXG4gICAgICAqL1xyXG4gICAgb25SZXNpemUoc2l6ZXMsIHNjcm9sbCkge1xyXG4gICAgICAgIHRoaXMuZXh0cmEgPSAwXHJcbiAgICAgICAgdGhpcy5jcmVhdGVCb3VuZHMoc2l6ZXMpXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKHNjcm9sbClcclxuICAgICAgICB0aGlzLnVwZGF0ZVkoMClcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExPT1BcclxuICAgICAqL1xyXG4gICAgdXBkYXRlU2NhbGUoKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMuYm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGhcclxuICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuYm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodFxyXG5cclxuICAgICAgICB0aGlzLm1lc2guc2NhbGUueCA9IHRoaXMuc2l6ZXMud2lkdGggKiB0aGlzLndpZHRoXHJcbiAgICAgICAgdGhpcy5tZXNoLnNjYWxlLnkgPSB0aGlzLnNpemVzLmhlaWdodCAqIHRoaXMuaGVpZ2h0XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlWCh4ID0gMCkge1xyXG4gICAgICAgIHRoaXMueCA9ICh0aGlzLmJvdW5kcy5sZWZ0ICsgeCkgLyB3aW5kb3cuaW5uZXJXaWR0aFxyXG4gICAgICAgIHRoaXMubWVzaC5wb3NpdGlvbi54ID0gKC10aGlzLnNpemVzLndpZHRoIC8gMikgKyAodGhpcy5tZXNoLnNjYWxlLnggLyAyKSArICh0aGlzLnggKiB0aGlzLnNpemVzLndpZHRoKSArIHRoaXMuZXh0cmFcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVZKHkgPSAwKSB7XHJcbiAgICAgICAgdGhpcy55ID0gKHRoaXMuYm91bmRzLnRvcCArIHkpIC8gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgdGhpcy5tZXNoLnBvc2l0aW9uLnkgPSAodGhpcy5zaXplcy5oZWlnaHQgLyAyKSAtICh0aGlzLm1lc2guc2NhbGUueSAvIDIpIC0gKHRoaXMueSAqIHRoaXMuc2l6ZXMuaGVpZ2h0KVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZShzY3JvbGwpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYm91bmRzKSByZXR1cm5cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVYKHNjcm9sbClcclxuICAgICAgICB0aGlzLnVwZGF0ZVkoMClcclxuICAgIH1cclxuXHJcblxyXG59IiwiaW1wb3J0IHsgbWFwIH0gZnJvbSBcImxvZGFzaFwiXHJcbmltcG9ydCB7IFBsYW5lLCBUcmFuc2Zvcm0gfSBmcm9tIFwib2dsXCJcclxuaW1wb3J0IEdhbGxlcnkgZnJvbSBcIi4vR2FsbGVyeVwiXHJcblxyXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gICAgY29uc3RydWN0b3IoeyBnbCwgc2NlbmUsIHNpemVzIH0pIHtcclxuICAgICAgICB0aGlzLmdsID0gZ2xcclxuICAgICAgICB0aGlzLnNpemVzID0gc2l6ZXNcclxuXHJcbiAgICAgICAgdGhpcy5ncm91cCA9IG5ldyBUcmFuc2Zvcm0oKVxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZUdlb21ldHJ5KClcclxuICAgICAgICB0aGlzLmNyZWF0ZUdhbGxlcmllcygpXHJcblxyXG4gICAgICAgIHRoaXMuZ3JvdXAuc2V0UGFyZW50KHNjZW5lKVxyXG5cclxuICAgICAgICB0aGlzLnNob3coKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUdlb21ldHJ5KCkge1xyXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgUGxhbmUodGhpcy5nbClcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVHYWxsZXJpZXMoKSB7XHJcbiAgICAgICAgdGhpcy5nYWxsZXJpZXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wcm9qZWN0X19tb2JpbGUnKVxyXG5cclxuICAgICAgICB0aGlzLmdhbGxlcmllcyA9IG1hcCh0aGlzLmdhbGxlcmllc0VsZW1lbnRzLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHYWxsZXJ5KHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICBnZW9tZXRyeTogdGhpcy5nZW9tZXRyeSxcclxuICAgICAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICAgICAgZ2w6IHRoaXMuZ2wsXHJcbiAgICAgICAgICAgICAgICBzY2VuZTogdGhpcy5ncm91cCxcclxuICAgICAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2hvdygpe1xyXG4gICAgICAgIG1hcCh0aGlzLmdhbGxlcmllcywgZ2FsbGVyeSA9PiBnYWxsZXJ5LnNob3coKSlcclxuICAgIH1cclxuXHJcbiAgICBoaWRlKCl7XHJcbiAgICAgICAgbWFwKHRoaXMuZ2FsbGVyaWVzLCBnYWxsZXJ5ID0+IGdhbGxlcnkuaGlkZSgpKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50c1xyXG4gICAgICovXHJcbiAgICBvblJlc2l6ZShldmVudCkge1xyXG4gICAgICAgIG1hcCh0aGlzLmdhbGxlcmllcywgZ2FsbGVyeSA9PiBnYWxsZXJ5Lm9uUmVzaXplKGV2ZW50KSlcclxuICAgIH1cclxuXHJcbiAgICBvblRvdWNoRG93bihldmVudCkge1xyXG4gICAgICAgIG1hcCh0aGlzLmdhbGxlcmllcywgZ2FsbGVyeSA9PiBnYWxsZXJ5Lm9uVG91Y2hEb3duKGV2ZW50KSlcclxuICAgIH1cclxuICAgIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XHJcbiAgICAgICAgbWFwKHRoaXMuZ2FsbGVyaWVzLCBnYWxsZXJ5ID0+IGdhbGxlcnkub25Ub3VjaE1vdmUoZXZlbnQpKVxyXG4gICAgfVxyXG4gICAgb25Ub3VjaFVwKGV2ZW50KSB7XHJcbiAgICAgICAgbWFwKHRoaXMuZ2FsbGVyaWVzLCBnYWxsZXJ5ID0+IGdhbGxlcnkub25Ub3VjaFVwKGV2ZW50KSlcclxuICAgIH1cclxuXHJcbiAgICBvbldoZWVsKHsgcGl4ZWxYLCBwaXhlbFkgfSkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVQREFURVxyXG4gICAgICovXHJcblxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIG1hcCh0aGlzLmdhbGxlcmllcywgZ2FsbGVyeSA9PiBnYWxsZXJ5LnVwZGF0ZSgpKVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgLy8gdGhpcy5ncm91cC5zZXRQYXJlbnQobnVsbClcclxuICAgICAgICBtYXAodGhpcy5nYWxsZXJpZXMsIGdhbGxlcnkgPT4gZ2FsbGVyeS5kZXN0cm95KCkpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB2YWx1ZXMgfSBmcm9tICdsb2Rhc2gnXHJcbmltcG9ydCB7IENhbWVyYSwgUmVuZGVyZXIsIFRyYW5zZm9ybSB9IGZyb20gJ29nbCdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xyXG5pbXBvcnQgUHJvamVjdCBmcm9tICcuL1Byb2plY3QnXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgdGVtcGxhdGUgfSkge1xyXG5cclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGVcclxuXHJcbiAgICAgICAgdGhpcy54ID0ge1xyXG4gICAgICAgICAgICBzdGFydDogMCxcclxuICAgICAgICAgICAgZGlzdGFuY2U6IDAsXHJcbiAgICAgICAgICAgIGVuZDogMFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnkgPSB7XHJcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxyXG4gICAgICAgICAgICBkaXN0YW5jZTogMCxcclxuICAgICAgICAgICAgZW5kOiAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVJlbmRlcmVyKClcclxuICAgICAgICB0aGlzLmNyZWF0ZUNhbWVyYSgpXHJcbiAgICAgICAgdGhpcy5jcmVhdGVTY2VuZSgpXHJcblxyXG4gICAgICAgIHRoaXMub25SZXNpemUoKVxyXG5cclxuICAgICAgICB0aGlzLm9uQ2hhbmdlRW5kKHRoaXMudGVtcGxhdGUpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUmVuZGVyZXIoKSB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG5ldyBSZW5kZXJlcih7XHJcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxyXG4gICAgICAgICAgICBhbnRpYWxpYXM6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsXHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5nbC5jYW52YXMpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2FtZXJhKCkge1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSh0aGlzLmdsKVxyXG4gICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlU2NlbmUoKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUcmFuc2Zvcm0oKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUhvbWUoKSB7XHJcbiAgICAgICAgdGhpcy5ob21lID0gbmV3IEhvbWUoe1xyXG4gICAgICAgICAgICBnbDogdGhpcy5nbCxcclxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXHJcbiAgICAgICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95SG9tZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaG9tZSkgcmV0dXJuXHJcbiAgICAgICAgdGhpcy5ob21lLmRlc3Ryb3koKVxyXG4gICAgICAgIHRoaXMuaG9tZSA9IG51bGxcclxuICAgIH1cclxuXHJcblxyXG4gICAgY3JlYXRlUHJvamVjdCgpIHtcclxuICAgICAgICB0aGlzLnByb2plY3QgPSBuZXcgUHJvamVjdCh7XHJcbiAgICAgICAgICAgIGdsOiB0aGlzLmdsLFxyXG4gICAgICAgICAgICBzY2VuZTogdGhpcy5zY2VuZSxcclxuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGRlc3Ryb3lQcm9qZWN0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0KSByZXR1cm5cclxuICAgICAgICB0aGlzLnByb2plY3QuZGVzdHJveSgpXHJcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gbnVsbFxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiAvLypFdmVudHNcclxuICAgICAqL1xyXG5cclxuICAgIG9uQ2hhbmdlU3RhcnQoKXtcclxuICAgICAgICBpZih0aGlzLmhvbWUpe1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUuaGlkZSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZih0aGlzLnByb2plY3Qpe1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3QuaGlkZSgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25DaGFuZ2VFbmQodGVtcGxhdGUpIHtcclxuXHJcbiAgICAgICAgaWYgKHRlbXBsYXRlID09PSAnaG9tZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVIb21lKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lIb21lKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0ZW1wbGF0ZSA9PT0gJ3Byb2plY3QnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUHJvamVjdCgpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95UHJvamVjdCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KVxyXG5cclxuICAgICAgICB0aGlzLmNhbWVyYS5wZXJzcGVjdGl2ZSh7XHJcbiAgICAgICAgICAgIGFzcGVjdDogd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHRcclxuICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgY29uc3QgZm92ID0gdGhpcy5jYW1lcmEuZm92ICogKE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDIgKiBNYXRoLnRhbihmb3YgLyAyKSAqIHRoaXMuY2FtZXJhLnBvc2l0aW9uLno7XHJcbiAgICAgICAgY29uc3Qgd2lkdGggPSBoZWlnaHQgKiB0aGlzLmNhbWVyYS5hc3BlY3Q7XHJcblxyXG5cclxuICAgICAgICB0aGlzLnNpemVzID0ge1xyXG4gICAgICAgICAgICBoZWlnaHQsXHJcbiAgICAgICAgICAgIHdpZHRoXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgc2l6ZXM6IHRoaXMuc2l6ZXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb2plY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0Lm9uUmVzaXplKHZhbHVlcylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5ob21lLm9uUmVzaXplKHZhbHVlcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaERvd24oZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmlzRG93biA9IHRydWVcclxuICAgICAgICB0aGlzLnguc3RhcnQgPSBldmVudC50b3VjaGVzID8gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxyXG4gICAgICAgIHRoaXMueS5zdGFydCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXHJcblxyXG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy54LFxyXG4gICAgICAgICAgICB5OiB0aGlzLnlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb2plY3QpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9qZWN0Lm9uVG91Y2hEb3duKHZhbHVlcylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5ob21lLm9uVG91Y2hEb3duKHZhbHVlcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaE1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNEb3duKSByZXR1cm5cclxuXHJcbiAgICAgICAgY29uc3QgeCA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFggOiBldmVudC5jbGllbnRYXHJcbiAgICAgICAgY29uc3QgeSA9IGV2ZW50LnRvdWNoZXMgPyBldmVudC50b3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXHJcblxyXG4gICAgICAgIHRoaXMueC5lbmQgPSB4XHJcbiAgICAgICAgdGhpcy55LmVuZCA9IHlcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMueVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3Qub25Ub3VjaE1vdmUodmFsdWVzKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUub25Ub3VjaE1vdmUodmFsdWVzKVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaFVwKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5pc0Rvd24gPSBmYWxzZVxyXG5cclxuICAgICAgICBjb25zdCB4ID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMgPyBldmVudC5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYIDogZXZlbnQuY2xpZW50WFxyXG4gICAgICAgIGNvbnN0IHkgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyA/IGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkgOiBldmVudC5jbGllbnRZXHJcblxyXG4gICAgICAgIHRoaXMueC5lbmQgPSB4XHJcbiAgICAgICAgdGhpcy55LmVuZCA9IHlcclxuXHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0ge1xyXG4gICAgICAgICAgICB4OiB0aGlzLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMueVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvamVjdCkge1xyXG4gICAgICAgICAgICB0aGlzLnByb2plY3Qub25Ub3VjaFVwKHZhbHVlcylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmhvbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5ob21lLm9uVG91Y2hVcCh2YWx1ZXMpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIG9uV2hlZWwoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5ob21lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaG9tZS5vbldoZWVsKGV2ZW50KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogLy8qIExPT1BcclxuICAgICAqL1xyXG4gICAgdXBkYXRlKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9qZWN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvamVjdC51cGRhdGUoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaG9tZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhvbWUudXBkYXRlKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHtcclxuICAgICAgICAgICAgY2FtZXJhOiB0aGlzLmNhbWVyYSxcclxuICAgICAgICAgICAgc2NlbmU6IHRoaXMuc2NlbmUsXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSIsIi8vISBJbXBvcnRvIGxlIGRpdmVyc2UgcGFnaW5lIHNhcGVuZG8gY2hlIGFsbCdpbnRlcm5vIGNpIHNvbm8gZGVnbGkgaW5kZXggcXVpbmRpXHJcbi8vISBOZXNzdW4gYmlzb2dubyBkaSBjaGlhbWFyZSBpbCBmaWxlIGludGVyb1xyXG5cclxuaW1wb3J0IEFib3V0IGZyb20gJ3BhZ2VzL0Fib3V0J1xyXG5pbXBvcnQgUHJvamVjdCBmcm9tICdwYWdlcy9Qcm9qZWN0cydcclxuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnXHJcbmltcG9ydCBIb21lIGZyb20gJ3BhZ2VzL0hvbWUnXHJcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSAnY29tcG9uZW50cy9QcmVsb2FkZXInXHJcbmltcG9ydCBEZXRlY3Rpb24gZnJvbSAnY2xhc3Nlcy9EZXRlY3Rpb24nXHJcblxyXG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xyXG5cclxuXHJcbmltcG9ydCBDYW52YXMgZnJvbSAnY29tcG9uZW50cy9DYW52YXMnXHJcbi8vKiBJTVBPUlRPIEdMSSBJTkRFWCBQUkVTRU5USSBORUxMRSBDQVJURUxMRVxyXG5cclxuY2xhc3MgQXBwIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ29udGVudCgpIC8vISBRdWVzdG8gbWV0b2RvIG1pIHBlcm1ldHRlIGRpIGNyZWFyZSBpbCBjb250ZW50IGUgY29zaSBkYSByZWN1cGVyYXJlIGlsIGRhdGEtdGVtcGxhdGUgXHJcbiAgICAgICAgLy8hIEUgcGVyY2lvIHNhcGVyZSBpbiBjaGUgcGFnaW5hIG1pIHRyb3ZvXHJcblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcclxuICAgICAgICAvLyB0aGlzLmNyZWF0ZU5hdmlnYXRpb24oKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlUGFnZXMoKVxyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FudmFzKClcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICB0aGlzLmFkZExpbmtMaXN0ZW5lcnMoKVxyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAvLypFdmVudHNcclxuICAgICAqL1xyXG4gICAgY3JlYXRlUHJlbG9hZGVyKCkge1xyXG4gICAgICAgIHRoaXMucHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcigpXHJcblxyXG4gICAgICAgIC8vKkV2ZW50IEVtaXR0ZXIgcXVhbmRvIGlsIHByZWxvYWRlciBoYSBjYXJpY2F0byBsZSBpbW1hZ2luaSBjaGlhbW8gaWwgbWV0b2RvIGNoZSBzdGEgcXVpIHNvdHRvXHJcbiAgICAgICAgdGhpcy5wcmVsb2FkZXIub25jZSgnY29tcGxldGUnLCB0aGlzLm9uUHJlbG9hZGVkLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2FudmFzKCkge1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY3JlYXRlQ29udGVudCgpIHtcclxuICAgICAgICAvLz9RdWkgZXNlZ3VvIGlsIGNyZWF0ZSBjb250ZW50IHBlciBzYXBlcmUgaW4gcXVhbGUgcGFnaW5hIG1pIHRyb3ZvIGF0dHVhbG1lbnRlXHJcbiAgICAgICAgdGhpcy5jb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKVxyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSB0aGlzLmNvbnRlbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJylcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRlbXBsYXRlKVxyXG4gICAgfVxyXG5cclxuICAgIC8vPyBJIHF1ZXN0byBtb2RvIGNyZW8gbCdvZ2dldHRvIFBBR0lOQVxyXG4gICAgY3JlYXRlUGFnZXMoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IHtcclxuICAgICAgICAgICAgYWJvdXQ6IG5ldyBBYm91dCgpLFxyXG4gICAgICAgICAgICBob21lOiBuZXcgSG9tZSgpLFxyXG4gICAgICAgICAgICBwcm9qZWN0OiBuZXcgUHJvamVjdCgpLCAvLyFJbCBub21lIGNvbG9yYXRvIGRldmUgZXNzZXJlIHVndWFsZSBhIG5vbWUgZGF0byBuZWwgdGVtcGxhdGUgXHJcbiAgICAgICAgICAgIC8vIGRldGFpbDogbmV3IERldGFpbCgpLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXSAvLz9JTlNFUklTQ08gTEEgUEFHSU5BIElOIENVSSBTT05PIEFUVFVBTE1FTlRFXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5wYWdlKVxyXG4gICAgICAgIHRoaXMucGFnZS5jcmVhdGUoKSAvLz8gQ2hpYW1vIGlsIGNyZWF0ZSBuZWxsYSBjbGFzc2UgcGFnZSBjaGUgw6kgbGVnYXRhIGFkIG9nbnVuYSBkZWxsZSBwYWdpbmVcclxuXHJcbiAgICAgICAgLy8gdGhpcy5wYWdlLmhpZGUoKVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblByZWxvYWRlZCgpIHtcclxuICAgICAgICB0aGlzLnByZWxvYWRlci5kZXN0cm95KClcclxuICAgICAgICB0aGlzLm9uUmVzaXplKClcclxuICAgICAgICB0aGlzLnBhZ2Uuc2hvdygpXHJcbiAgICB9XHJcblxyXG4gICAgb25Qb3BTdGF0ZSgpIHtcclxuICAgICAgICB0aGlzLm9uQ2hhbmdlKHtcclxuICAgICAgICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXHJcbiAgICAgICAgICAgIHB1c2g6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBvbkNoYW5nZSh7IHVybCwgcHVzaCA9IHRydWUgfSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybClcclxuICAgICAgICAgdGhpcy5jYW52YXMub25DaGFuZ2VTdGFydCh0aGlzLnRlbXBsYXRlKVxyXG4gICAgICAgIGF3YWl0IHRoaXMucGFnZS5oaWRlKClcclxuXHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpXHJcblxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMjAwKSB7IC8vITIwMCA9IHBhZ2luYSBiZW4gY2FyaWNhdGFcclxuICAgICAgICAgICAgY29uc3QgaHRtbCA9IGF3YWl0IHJlcXVlc3QudGV4dCgpIC8vIXJlY3VwZXJvIGlsIGNvbnRlbnV0byBkZWxsYSBwYWdpbmFcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIC8vIUNyZW8gdW5hIGRpdiBwZXIgbWV0dGVyY2kgbGEgcGFydGUgZGVsIFwiaHRtbFwiIGNoZSB2b2dsaW9cclxuICAgICAgICAgICAgLy8hY29zaSBkYSBub24gbWV0dGVyZSBhbmNoZSBpIGRvY3R5cGUgZXRjIFxyXG5cclxuICAgICAgICAgICAgaWYgKHB1c2gpIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgJycsIHVybClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGh0bWxcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRpdkNvbnRlbnQgPSBkaXYucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKS8vISBSZWN1cGVybyBzb2xvIGlsIC5jb250ZW50IGNoZSBjb250aWVuZSBsYSBwYXJ0ZSBkaSBkaXZzIGNoZSBjYW1iaWEgaW4gb2duaSBwYWdpbmFcclxuXHJcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpXHJcblxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250ZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScsIHRoaXMudGVtcGxhdGUpOy8vKkNhbWJpbyBpbCBkYXRhLXRlbXBsYXRlIHBlciBmYXIgc2FwZXJlIGNoZSBzb25vIGluIHF1ZXN0YSBwYWdpbmEgYXR0dWFsbWVudGVcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50LmlubmVySFRNTCA9IGRpdkNvbnRlbnQuaW5uZXJIVE1MIC8vISBFIGxvIGluc2VyaXNjbyBuZWwgY29udGVudCBkZWxsYSBwYWdpbmEgaW4gY3VpIHNvbm8gb3JhXHJcblxyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZUVuZCh0aGlzLnRlbXBsYXRlKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXSAvLyFSaWFzc2Vnbm8gbGEgcGFnaW5hXHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhZ2UuY3JlYXRlKCkgLy8/IENoaWFtbyBpbCBjcmVhdGUgbmVsbGEgY2xhc3NlIHBhZ2UgY2hlIMOpIGxlZ2F0YSBhZCBvZ251bmEgZGVsbGUgcGFnaW5lXHJcblxyXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKClcclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFnZS5zaG93KClcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImVycm9yXCIpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBvblJlc2l6ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25SZXNpemUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25SZXNpemUoKVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKF8gPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblJlc2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlLm9uUmVzaXplKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG5cclxuICAgIH1cclxuXHJcblxyXG4gICAgb25Ub3VjaERvd24oZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaERvd24pIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Ub3VjaE1vdmUoZXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMub25Ub3VjaE1vdmUoZXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgb25Ub3VjaFVwKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hVcCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5vblRvdWNoVXAoZXZlbnQpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uV2hlZWwoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkV2hlZWwgPSBOb3JtYWxpemVXaGVlbChldmVudCkgLy8qIFBlciBub3JtYWxpenphcmUgbGEgdmVsb2NpdGEgaW4gb2duaSBicm93c2VyXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vbldoZWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLm9uV2hlZWwobm9ybWFsaXplZFdoZWVsKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25XaGVlbCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2Uub25XaGVlbChub3JtYWxpemVkV2hlZWwpXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIC8vKkxPT1BcclxuICAgICAqL1xyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudXBkYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnVwZGF0ZSgpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS51cGRhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlLnVwZGF0ZSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMudXBkYXRlLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiAvLypMSVNURU5FUlNcclxuICAgICAqL1xyXG4gICAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMub25Qb3BTdGF0ZS5iaW5kKHRoaXMpKVxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm9uVG91Y2hVcC5iaW5kKHRoaXMpKVxyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMub25Ub3VjaERvd24uYmluZCh0aGlzKSlcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpXHJcblxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkTGlua0xpc3RlbmVycygpIHtcclxuICAgICAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKSAvLyEgUmVjdXBlcm8gdHV0dGkgaSBsaW5rIGRlbGxhIHBhZ2luYSBcclxuXHJcbiAgICAgICAgZWFjaChsaW5rcywgbGluayA9PiB7XHJcbiAgICAgICAgICAgIGxpbmsub25jbGljayA9IGV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaHJlZiB9ID0gbGlua1xyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKSAvLyFhbGwgY2xpY2sgbm9uIGVzZWd1byBpbCBjYW1iaW8gZGkgcGFnaW5hIGNvbWUgZG92cmViYmUgZXNzZXJlclxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoeyB1cmw6IGhyZWYgfSkvLypGdW56aW9uZSBjaGUgc2kgdHJvdmEgc29wcmEgUGVyIGdlc3RpcmUgaWwgY2FtYmlvIGRpIHBhZ2luYVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQsIGhyZWYpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5uZXcgQXBwKCkiLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTtcbiAgICBpZihtb2R1bGUuaG90KSB7XG4gICAgICAvLyAxNjY3MzE0NjU2MTc5XG4gICAgICB2YXIgY3NzUmVsb2FkID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2htci9ob3RNb2R1bGVSZXBsYWNlbWVudC5qc1wiKShtb2R1bGUuaWQsIHtcInB1YmxpY1BhdGhcIjpcIlwiLFwibG9jYWxzXCI6ZmFsc2V9KTtcbiAgICAgIG1vZHVsZS5ob3QuZGlzcG9zZShjc3NSZWxvYWQpO1xuICAgICAgbW9kdWxlLmhvdC5hY2NlcHQodW5kZWZpbmVkLCBjc3NSZWxvYWQpO1xuICAgIH1cbiAgIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiMTg1ZTM5NGI1NWFlZDQ0ZDdmNmFcIikiXSwibmFtZXMiOlsiQnV0dG9uIiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJlbGVtZW50Iiwic3VwZXIiLCJ0aGlzIiwidGltZWxpbmUiLCJHU0FQIiwib25Nb3VzZUVudGVyIiwib25Nb3VzZUxlYXZlIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiTWVkaWEiLCJnZW9tZXRyeSIsImdsIiwiaW5kZXgiLCJzY2VuZSIsInNpemVzIiwiY3JlYXRlVGV4dHVyZSIsImNyZWF0ZVByb2dyYW0iLCJjcmVhdGVNZXNoIiwiZXh0cmEiLCJ4IiwieSIsInRleHR1cmUiLCJUZXh0dXJlIiwiaW1hZ2UiLCJ3aW5kb3ciLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwic3JjIiwiZ2V0QXR0cmlidXRlIiwib25sb2FkIiwiXyIsInByb2dyYW0iLCJQcm9ncmFtIiwiZnJhZ21lbnQiLCJ2ZXJ0ZXgiLCJ1bmlmb3JtcyIsInVBbHBoYSIsInZhbHVlIiwidE1hcCIsIm1lc2giLCJNZXNoIiwic2V0UGFyZW50Iiwic2NhbGUiLCJjcmVhdGVCb3VuZHMiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ1cGRhdGVTY2FsZSIsInVwZGF0ZVgiLCJ1cGRhdGVZIiwic2hvdyIsImhpZGUiLCJvblJlc2l6ZSIsInNjcm9sbCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwibGVmdCIsInBvc2l0aW9uIiwidG9wIiwidXBkYXRlIiwiZ3JvdXAiLCJUcmFuc2Zvcm0iLCJnYWxsZXJ5RWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm1lZGlhc0VsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsZXJwIiwic2Nyb2xsQ3VycmVudCIsImNyZWF0ZUdlb21ldHJ5IiwiY3JlYXRlR2FsbGVyeSIsIlBsYW5lIiwibWVkaWFzIiwibWFwIiwibWVkaWEiLCJldmVudCIsImdhbGxlcnlCb3VuZHMiLCJnYWxsZXJ5U2l6ZXMiLCJvblRvdWNoRG93biIsIm9uVG91Y2hNb3ZlIiwieERpc3RhbmNlIiwic3RhcnQiLCJlbmQiLCJ5RGlzdGFuY2UiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxYIiwicGl4ZWxZIiwiZGlyZWN0aW9uIiwic2NhbGVYIiwic2NhbGVZIiwiZGVzdHJveSIsInJlbW92ZUNoaWxkIiwiR2FsbGVyeSIsImVsZW1lbnRXcmFwcGVyIiwibGFzdCIsImNyZWF0ZU1lZGlhcyIsImRpc3RhbmNlIiwiY3JlYXRlR2FsbGVyaWVzIiwiZ2FsbGVyaWVzRWxlbWVudHMiLCJnYWxsZXJpZXMiLCJnYWxsZXJ5IiwiQ2FudmFzIiwidGVtcGxhdGUiLCJjcmVhdGVSZW5kZXJlciIsImNyZWF0ZUNhbWVyYSIsImNyZWF0ZVNjZW5lIiwib25DaGFuZ2VFbmQiLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwiYWxwaGEiLCJhbnRpYWxpYXMiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjYW52YXMiLCJjYW1lcmEiLCJDYW1lcmEiLCJ6IiwiY3JlYXRlSG9tZSIsImhvbWUiLCJIb21lIiwiZGVzdHJveUhvbWUiLCJjcmVhdGVQcm9qZWN0IiwicHJvamVjdCIsIlByb2plY3QiLCJkZXN0cm95UHJvamVjdCIsIm9uQ2hhbmdlU3RhcnQiLCJzZXRTaXplIiwicGVyc3BlY3RpdmUiLCJhc3BlY3QiLCJmb3YiLCJNYXRoIiwiUEkiLCJ0YW4iLCJ2YWx1ZXMiLCJpc0Rvd24iLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJjaGFuZ2VkVG91Y2hlcyIsInJlbmRlciIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVQcmVsb2FkZXIiLCJjcmVhdGVQYWdlcyIsImNyZWF0ZUNhbnZhcyIsImFkZExpbmtMaXN0ZW5lcnMiLCJwcmVsb2FkZXIiLCJQcmVsb2FkZXIiLCJvbmNlIiwib25QcmVsb2FkZWQiLCJiaW5kIiwiY29udGVudCIsInBhZ2VzIiwiYWJvdXQiLCJBYm91dCIsInBhZ2UiLCJjcmVhdGUiLCJvblBvcFN0YXRlIiwib25DaGFuZ2UiLCJ1cmwiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicHVzaCIsInJlcXVlc3QiLCJmZXRjaCIsInN0YXR1cyIsImh0bWwiLCJ0ZXh0IiwiZGl2IiwiY3JlYXRlRWxlbWVudCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJpbm5lckhUTUwiLCJkaXZDb250ZW50Iiwic2V0QXR0cmlidXRlIiwiY29uc29sZSIsImxvZyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vcm1hbGl6ZWRXaGVlbCIsIk5vcm1hbGl6ZVdoZWVsIiwiZnJhbWUiLCJsaW5rcyIsImVhY2giLCJsaW5rIiwib25jbGljayIsImhyZWYiLCJwcmV2ZW50RGVmYXVsdCIsImNzc1JlbG9hZCIsIm1vZHVsZSIsImlkIiwiaG90IiwiZGlzcG9zZSIsImFjY2VwdCIsInVuZGVmaW5lZCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==