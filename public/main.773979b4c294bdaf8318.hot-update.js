/*! For license information please see main.773979b4c294bdaf8318.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatestarter("main",{"./app/classes/Page.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var i=n("./node_modules/lodash/each.js"),s=n.n(i),a=n("./node_modules/lodash/map.js"),o=n.n(a),r=n("../../../node_modules/gsap/index.js"),l=n("./node_modules/prefix/index.js"),h=n.n(l),m=n("./node_modules/normalize-wheel/index.js"),d=n.n(m);Object(function(){var e=new Error("Cannot find module '../animations/Title'");throw e.code="MODULE_NOT_FOUND",e}()),Object(function(){var e=new Error("Cannot find module '../animations/Paragraph'");throw e.code="MODULE_NOT_FOUND",e}()),Object(function(){var e=new Error("Cannot find module '../animations/Label'");throw e.code="MODULE_NOT_FOUND",e}());var c=n("./app/classes/Colors.js"),u=n("./app/classes/AsyncLoad.js");class p{constructor({id:e,element:t,elements:n={}}){this.selector=t,this.selectorChildren={...n,animationTitles:'[data-animation="title"]',animationsParagraphs:'[data-animation="paragraph"]',animationsLabels:'[data-animation="label"]',animationsHighlights:'[data-animation="highlight"]',preloaders:"[data-src]"},this.id=e,this.transformPrefix=h()("transform"),this.onMouseWheelEvent=this.onMouseWheel.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},s()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=this.element.querySelectorAll(e),0===this.elements[t].length?this.elements[t]=null:1===this.elements[t].length&&(this.elements[t]=document.querySelector(e)))})),this.createAnimations(),this.createPreloader()}createAnimations(){this.animations=[],this.animationsTitles=o()(this.elements.animationTitles,(e=>new Object(function(){var e=new Error("Cannot find module '../animations/Title'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.push(...this.animationsTitles),this.animationsParagraphs=o()(this.elements.animationsParagraphs,(e=>new Object(function(){var e=new Error("Cannot find module '../animations/Paragraph'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.push(...this.animationsParagraphs),this.animationsLabels=o()(this.elements.animationsLabels,(e=>new Object(function(){var e=new Error("Cannot find module '../animations/Label'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.push(...this.animationsLabels),this.animationsHighlights=o()(this.elements.animationsHighlights,(e=>new Object(function(){var e=new Error("Cannot find module '../animations/Label'");throw e.code="MODULE_NOT_FOUND",e}())({element:e}))),this.animations.push(...this.animationsHighlights)}createPreloader(){this.preloaders=o()(this.elements.preloaders,(e=>new u.default({element:e})))}show(){return new Promise((e=>{c.ColorsManager.change({backgroundColor:this.element.getAttribute("data-background"),color:this.element.getAttribute("data-color")}),this.animationIn=r.default.timeline(),console.log("colore"),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1}),this.animationIn.call((t=>{this.addEventListeners(),e()}))}))}hide(){return new Promise((e=>{this.destroy(),this.animationOut=r.default.timeline(),this.animationOut.to(this.element,{autoAlpha:0,onComplete:e})}))}destroy(){this.removeEventListeners()}onMouseWheel(e){const{pixelY:t}=d()(e);this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),s()(this.animations,(e=>e.onResize()))}update(){this.scroll.target=r.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=r.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){window.addEventListener("mousewheel",this.onMouseWheelEvent)}removeEventListeners(){window.removeEventListener("mousewheel",this.onMouseWheelEvent)}}}},(function(e){e.h=()=>"8d4963b11347551eb852"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGlCQUFvQixlQUFjUixLQUFLZ0IsT0FBT0MsYUFFbEYsQ0FFRHVDLG9CQUNFaEMsT0FBT2lELGlCQUFpQixhQUFjekUsS0FBS1Usa0JBQzVDLENBRURvRCx1QkFDRXRDLE9BQU9rRCxvQkFBb0IsYUFBYzFFLEtBQUtVLGtCQUMvQyxrQkM3TUhpRSxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnRlci8uL2FwcC9jbGFzc2VzL1BhZ2UuanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnXHJcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcclxuXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcbmltcG9ydCBQcmVmaXggZnJvbSAncHJlZml4J1xyXG5pbXBvcnQgbm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xyXG5cclxuaW1wb3J0IFRpdGxlIGZyb20gJy4uL2FuaW1hdGlvbnMvVGl0bGUnXHJcbmltcG9ydCBQYXJhZ3JhcGggZnJvbSAnLi4vYW5pbWF0aW9ucy9QYXJhZ3JhcGgnXHJcbmltcG9ydCBMYWJlbCBmcm9tICcuLi9hbmltYXRpb25zL0xhYmVsJ1xyXG5cclxuaW1wb3J0IHsgQ29sb3JzTWFuYWdlciB9IGZyb20gJy4uL2NsYXNzZXMvQ29sb3JzJ1xyXG5cclxuaW1wb3J0IEFzeW5jTG9hZCBmcm9tICcuL0FzeW5jTG9hZCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xyXG4gIGNvbnN0cnVjdG9yKHsgaWQsIGVsZW1lbnQsIGVsZW1lbnRzID0ge30sIH0pIC8vIWVsZW1lbnRzIMOpIHVuIG9nZ2V0dG9cclxuICB7XHJcbiAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxyXG4gICAgdGhpcy5zZWxlY3RvckNoaWxkcmVuID0ge1xyXG4gICAgICAuLi5lbGVtZW50cyxcclxuICAgICAgYW5pbWF0aW9uVGl0bGVzOiAnW2RhdGEtYW5pbWF0aW9uPVwidGl0bGVcIl0nLFxyXG4gICAgICBhbmltYXRpb25zUGFyYWdyYXBoczogJ1tkYXRhLWFuaW1hdGlvbj1cInBhcmFncmFwaFwiXScsXHJcbiAgICAgIGFuaW1hdGlvbnNMYWJlbHM6ICdbZGF0YS1hbmltYXRpb249XCJsYWJlbFwiXScsXHJcbiAgICAgIGFuaW1hdGlvbnNIaWdobGlnaHRzOiAnW2RhdGEtYW5pbWF0aW9uPVwiaGlnaGxpZ2h0XCJdJyxcclxuICAgICAgcHJlbG9hZGVyczogJ1tkYXRhLXNyY10nXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaWQgPSBpZFxyXG5cclxuICAgIHRoaXMudHJhbnNmb3JtUHJlZml4ID0gUHJlZml4KCd0cmFuc2Zvcm0nKVxyXG5cclxuICAgIC8vIHRoaXMuc2Nyb2xsID0ge1xyXG4gICAgLy8gICBjdXJyZW50OiAwLCAvLyEgRE9WRSBTT05PIE9SQVxyXG4gICAgLy8gICB0YXJnZXQ6IDAsIC8vIURPVkUgQVJSSVZPXHJcbiAgICAvLyAgIGxhc3Q6IDAsIC8vIURPVkUgTUkgU09OTyBGRVJNQVRPXHJcbiAgICAvLyAgIGxpbWl0OlxyXG4gICAgLy8gfVxyXG5cclxuICAgIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpXHJcbiAgfVxyXG5cclxuICBjcmVhdGUoKSB7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxyXG4gICAgdGhpcy5lbGVtZW50cyA9IHt9XHJcblxyXG4gICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgIGN1cnJlbnQ6IDAsIC8vISBET1ZFIFNPTk8gT1JBXHJcbiAgICAgIHRhcmdldDogMCwgLy8hRE9WRSBBUlJJVk9cclxuICAgICAgbGFzdDogMCwgLy8hRE9WRSBNSSBTT05PIEZFUk1BVE9cclxuICAgICAgbGltaXQ6IDBcclxuICAgIH1cclxuXHJcbiAgICBlYWNoKHRoaXMuc2VsZWN0b3JDaGlsZHJlbiwgKGVudHJ5LCBrZXkpID0+IHsgIC8vIWxvYWRhc2ggaW1wb3J0XHJcbiAgICAgIGlmIChlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MRWxlbWVudCB8fCBlbnRyeSBpbnN0YW5jZW9mIHdpbmRvdy5Ob2RlTGlzdCB8fCBBcnJheS5pc0FycmF5KGVudHJ5KSkvLyFDb250cm9sbG8gc2Ugw6kgdW4gZWxlbWVudG8gZGVsIGRvbVxyXG4gICAgICB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHsgLy8hc2Vubm8gw6kgdW5hIGxpc3RhIG5vZGUgY2hlIHRyc2Zvcm1vIGluIGVsZW1lbnRvIHNlbXBsaWNlXHJcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpXHJcblxyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsXHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRzW2tleV0ubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVudHJ5KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmNyZWF0ZUFuaW1hdGlvbnMoKVxyXG4gICAgdGhpcy5jcmVhdGVQcmVsb2FkZXIoKVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdXHJcblxyXG4gICAgLy8hVElUTEVTXHJcbiAgICB0aGlzLmFuaW1hdGlvbnNUaXRsZXMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25UaXRsZXMsIGVsZW1lbnQgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IFRpdGxlKHtcclxuICAgICAgICBlbGVtZW50XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSlcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNUaXRsZXMpXHJcblxyXG4gICAgLy8hUEFSQUdSQVBIXHJcbiAgICB0aGlzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc1BhcmFncmFwaHMsIGVsZW1lbnQgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IFBhcmFncmFwaCh7XHJcbiAgICAgICAgZWxlbWVudFxyXG4gICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zUGFyYWdyYXBocylcclxuXHJcbiAgICAvLyFMQUJFTFxyXG4gICAgdGhpcy5hbmltYXRpb25zTGFiZWxzID0gbWFwKHRoaXMuZWxlbWVudHMuYW5pbWF0aW9uc0xhYmVscywgZWxlbWVudCA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgTGFiZWwoe1xyXG4gICAgICAgIGVsZW1lbnRcclxuICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNMYWJlbHMpXHJcblxyXG4gICAgLy8hSElHSExJR0hUU1xyXG4gICAgdGhpcy5hbmltYXRpb25zSGlnaGxpZ2h0cyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNIaWdobGlnaHRzLCBlbGVtZW50ID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBMYWJlbCh7XHJcbiAgICAgICAgZWxlbWVudFxyXG4gICAgICB9KVxyXG5cclxuICAgIH0pXHJcblxyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc0hpZ2hsaWdodHMpXHJcbiAgfVxyXG5cclxuICBjcmVhdGVQcmVsb2FkZXIoKSB7XHJcbiAgICB0aGlzLnByZWxvYWRlcnMgPSBtYXAodGhpcy5lbGVtZW50cy5wcmVsb2FkZXJzLCBlbGVtZW50ID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBBc3luY0xvYWQoeyBlbGVtZW50IH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgc2hvdygpIHsgLy8hQU5JTUFaSU9ORSBESSBFTlRSQVRBXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcblxyXG4gICAgICBDb2xvcnNNYW5hZ2VyLmNoYW5nZSh7XHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQnKSxcclxuICAgICAgICBjb2xvcjogdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2xvcicpLFxyXG5cclxuICAgICAgfSlcclxuICAgICAgdGhpcy5hbmltYXRpb25JbiA9IEdTQVAudGltZWxpbmUoKVxyXG4gICAgICBjb25zb2xlLmxvZyhcImNvbG9yZVwiKVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkluLmZyb21Ubyh0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICBhdXRvQWxwaGE6IDBcclxuICAgICAgfSwge1xyXG4gICAgICAgIGF1dG9BbHBoYTogMSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uSW4uY2FsbChfID0+IHtcclxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICByZXNvbHZlKClcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoaWRlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICB0aGlzLmRlc3Ryb3koKVxyXG5cclxuICAgICAgdGhpcy5hbmltYXRpb25PdXQgPSBHU0FQLnRpbWVsaW5lKClcclxuXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uT3V0LnRvKHRoaXMuZWxlbWVudCwge1xyXG4gICAgICAgIGF1dG9BbHBoYTogMCxcclxuICAgICAgICBvbkNvbXBsZXRlOiByZXNvbHZlXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGVzdHJveSgpIHtcclxuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKVxyXG4gIH1cclxuICAvLyogc21vb3Roc2Nyb2xsIFxyXG4gIG9uTW91c2VXaGVlbChldmVudCkge1xyXG5cclxuXHJcbiAgICBjb25zdCB7IHBpeGVsWSB9ID0gbm9ybWFsaXplV2hlZWwoZXZlbnQpXHJcblxyXG4gICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWVxyXG4gIH1cclxuXHJcbiAgb25SZXNpemUoKSB7XHJcbiAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XHJcbiAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICAgfVxyXG5cclxuICAgIGVhY2godGhpcy5hbmltYXRpb25zLCBhbmltYXRpb24gPT4gYW5pbWF0aW9uLm9uUmVzaXplKCkpXHJcbiAgfVxyXG5cclxuICB1cGRhdGUoKSB7XHJcbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsIHRoaXMuc2Nyb2xsLmxpbWl0LCB0aGlzLnNjcm9sbC50YXJnZXQpLy8hIFRhcmdldCBub24gc2FyYSBtbWFpIHBpdSBncmFuZGUgZGkgbGltaXQgZSBwaXUgcGljY29sbyBkaSB6ZXJwIGNvc2kgZGEgbm9uIGF2ZWUgdW5vIHNjcm9sbCBzdG9ydG9cclxuXHJcblxyXG5cclxuICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMuc2Nyb2xsLmN1cnJlbnQsIHRoaXMuc2Nyb2xsLnRhcmdldCwgMC4xKVxyXG5cclxuICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgMC4wMSkge1xyXG4gICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gMFxyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpIHtcclxuICAgICAgdGhpcy5lbGVtZW50cy53cmFwcGVyLnN0eWxlW3RoaXMudHJhbnNmb3JtUHJlZml4XSA9IGB0cmFuc2xhdGVZKC0ke3RoaXMuc2Nyb2xsLmN1cnJlbnR9cHgpYFxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQpXHJcbiAgfVxyXG5cclxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgdGhpcy5vbk1vdXNlV2hlZWxFdmVudClcclxuICB9XHJcblxyXG59XHJcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjhkNDk2M2IxMTM0NzU1MWViODUyXCIpIl0sIm5hbWVzIjpbIlBhZ2UiLCJjb25zdHJ1Y3RvciIsImlkIiwiZWxlbWVudCIsImVsZW1lbnRzIiwidGhpcyIsInNlbGVjdG9yIiwic2VsZWN0b3JDaGlsZHJlbiIsImFuaW1hdGlvblRpdGxlcyIsImFuaW1hdGlvbnNQYXJhZ3JhcGhzIiwiYW5pbWF0aW9uc0xhYmVscyIsImFuaW1hdGlvbnNIaWdobGlnaHRzIiwicHJlbG9hZGVycyIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsIm9uTW91c2VXaGVlbEV2ZW50Iiwib25Nb3VzZVdoZWVsIiwiYmluZCIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsYXN0IiwibGltaXQiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcmVhdGVQcmVsb2FkZXIiLCJhbmltYXRpb25zIiwiYW5pbWF0aW9uc1RpdGxlcyIsIm1hcCIsIlRpdGxlIiwicHVzaCIsIlBhcmFncmFwaCIsIkxhYmVsIiwiQXN5bmNMb2FkIiwic2hvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwiQ29sb3JzTWFuYWdlciIsImJhY2tncm91bmRDb2xvciIsImdldEF0dHJpYnV0ZSIsImNvbG9yIiwiYW5pbWF0aW9uSW4iLCJHU0FQIiwiY29uc29sZSIsImxvZyIsImZyb21UbyIsImF1dG9BbHBoYSIsImNhbGwiLCJfIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJoaWRlIiwiZGVzdHJveSIsImFuaW1hdGlvbk91dCIsInRvIiwib25Db21wbGV0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiZXZlbnQiLCJwaXhlbFkiLCJub3JtYWxpemVXaGVlbCIsIm9uUmVzaXplIiwid3JhcHBlciIsImNsaWVudEhlaWdodCIsImlubmVySGVpZ2h0IiwiYW5pbWF0aW9uIiwidXBkYXRlIiwic3R5bGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==