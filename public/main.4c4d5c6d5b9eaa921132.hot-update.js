/*! For license information please see main.4c4d5c6d5b9eaa921132.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatestarter("main",{"./app/classes/Page.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var n=s("./node_modules/lodash/each.js"),i=s.n(n),r=s("../../../node_modules/gsap/index.js"),l=s("./node_modules/prefix/index.js"),o=s.n(l),a=s("./node_modules/normalize-wheel/index.js"),h=s.n(a);class m{constructor({id:e,element:t,elements:s}){this.id=e,this.selector=t,this.selectorChildren={...s},this.transformPrefix=o()("transform"),this.scroll={current:0,target:0,last:0,limit:0},this.onMouseWheelEvent=this.onMouseWheel.bind(this)}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},i()(this.selectorChildren,((e,t)=>{e instanceof window.HTMLElement||e instanceof window.NodeList||Array.isArray(e)?this.elements[t]=e:(this.elements[t]=this.element.querySelectorAll(e),0===this.elements[t].lenght?this.elements[t]=null:1===this.elements[t].lenght&&(this.elements[t]=document.querySelector(e)))}))}show(){return new Promise((e=>{this.animationIn=r.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1,onComplete:e}),this.animationIn.call((e=>{this.addEventListeners()}))}))}hide(){return new Promise((e=>{this.removeEventListeners(),this.animationOut=r.default.timeline(),this.animationOut.to(this.element,{autoAlpha:0,onComplete:e})}))}onMouseWheel(e){const{pixelY:t}=h()(e);this.scroll.target+=t}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper[0].clientHeight-window.innerHeight)}update(){this.scroll.target=r.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=r.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper[0].style[this.transformPrefix]=`translateY(-${this.scroll.current}px)`)}addEventListeners(){window.addEventListener("mousewheel",this.onMouseWheelEvent)}removeEventListeners(){window.addEventListener("mouseWheel",this.onMouseWheelEvent)}}},"./app/components/Preloader.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>o}),Object(function(){var e=new Error("Cannot find module 'classes/Component'");throw e.code="MODULE_NOT_FOUND",e}());var n=s("./node_modules/lodash/each.js"),i=s.n(n),r=s("../../../node_modules/gsap/index.js"),l=s("./app/utils/text.js");class o extends(Object(function(){var e=new Error("Cannot find module 'classes/Component'");throw e.code="MODULE_NOT_FOUND",e}())){constructor(){super({element:".preloader",elements:{title:".preloader__text",upnumber:".preloader__number__text",downumber:".preloader__reverse__text",images:document.querySelectorAll("img")}}),console.log(this.elements.images),(0,l.split)({element:this.elements.title[0],expression:"<br>"}),(0,l.split)({element:this.elements.title[0],expression:"<br>"}),this.elements.titleSpans=this.elements.title[0].querySelectorAll("span span"),this.length=0,this.createLoader()}createLoader(){i()(this.elements.images,(e=>{e.onload=t=>this.onAssetLoaded(e),e.src=e.getAttribute("data-src")}))}onAssetLoaded(e){this.length+=1;const t=this.length/this.elements.images.length;this.elements.upnumber[0].innerHTML=`${Math.round(100*t)}`,this.elements.downumber[0].innerHTML=""+(100-Math.round(100*t)),1===t&&this.onLoaded()}onLoaded(){return new Promise((e=>{this.animateOut=r.default.timeline({delay:2}),this.animateOut.to([this.elements.upnumber,this.elements.downumber],{autoAlpha:0,ease:"expo.out",duration:1.2,y:"100%"}),this.animateOut.to(this.elements.titleSpans,{autoAlpha:0,delay:.1,ease:"expo.out",duration:1.5,y:"100%"}),this.animateOut.to(this.element,{scaleY:0,transformOrigin:"100% 100%"}),this.animateOut.call((e=>{this.emit("complete")}))}))}destroy(){this.element.parentNode.removeChild(this.element)}}},"./app/pages/Projects/index.js":(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s("./app/classes/Page.js");Object(function(){var e=new Error("Cannot find module 'classes/Button'");throw e.code="MODULE_NOT_FOUND",e}());class i extends n.default{constructor(){super({id:"project",element:".project",elements:{navigation:document.querySelector(".navigation"),wrapper:".project__wrapper",link:".project__process__link"}})}create(){super.create(),this.link=new Object(function(){var e=new Error("Cannot find module 'classes/Button'");throw e.code="MODULE_NOT_FOUND",e}())({element:this.elements.link[0]})}destroy(){super.destroy(),this.link.removeEventListeners()}}}},(function(e){e.h=()=>"fdd289e70c42ffdde8cc"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi40YzRkNWM2ZDViOWVhYTkyMTEzMi5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7c1RBUWUsTUFBTUEsRUFFakJDLGFBQVksR0FBRUMsRUFBRixRQUFNQyxFQUFOLFNBQWVDLElBQ3ZCQyxLQUFLSCxHQUFLQSxFQUNWRyxLQUFLQyxTQUFXSCxFQUNoQkUsS0FBS0UsaUJBQW1CLElBQ2pCSCxHQUdQQyxLQUFLRyxnQkFBa0JDLElBQU8sYUFHOUJKLEtBQUtLLE9BQVMsQ0FDVkMsUUFBUyxFQUNUQyxPQUFRLEVBQ1JDLEtBQU0sRUFDTkMsTUFBTyxHQUlYVCxLQUFLVSxrQkFBb0JWLEtBQUtXLGFBQWFDLEtBQUtaLEtBQ25ELENBR0RhLFNBQ0liLEtBQUtGLFFBQVVnQixTQUFTQyxjQUFjZixLQUFLQyxVQUMzQ0QsS0FBS0QsU0FBVyxDQUFDLEVBSWpCQyxLQUFLSyxPQUFTLENBQ1ZDLFFBQVMsRUFDVEMsT0FBUSxFQUNSQyxLQUFNLEVBQ05DLE1BQU8sR0FHWE8sSUFBS2hCLEtBQUtFLGtCQUFrQixDQUFDZSxFQUFPQyxLQUM1QkQsYUFBaUJFLE9BQU9DLGFBQWVILGFBQWlCRSxPQUFPRSxVQUFZQyxNQUFNQyxRQUFRTixHQUN6RmpCLEtBQUtELFNBQVNtQixHQUFPRCxHQUdyQmpCLEtBQUtELFNBQVNtQixHQUFPbEIsS0FBS0YsUUFBUTBCLGlCQUFpQlAsR0FFakIsSUFBOUJqQixLQUFLRCxTQUFTbUIsR0FBS08sT0FDbkJ6QixLQUFLRCxTQUFTbUIsR0FBTyxLQUVjLElBQTlCbEIsS0FBS0QsU0FBU21CLEdBQUtPLFNBQ3hCekIsS0FBS0QsU0FBU21CLEdBQU9KLFNBQVNDLGNBQWNFLElBR25ELEdBS1IsQ0FFRFMsT0FDSSxPQUFPLElBQUlDLFNBQVFDLElBQ2Y1QixLQUFLNkIsWUFBY0MsRUFBQUEsUUFBQUEsV0FFbkI5QixLQUFLNkIsWUFBWUUsT0FBTy9CLEtBQUtGLFFBQVMsQ0FDbENrQyxVQUFXLEdBQ1osQ0FDQ0EsVUFBVyxFQUNYQyxXQUFZTCxJQUdoQjVCLEtBQUs2QixZQUFZSyxNQUFLQyxJQUNsQm5DLEtBQUtvQyxtQkFBTCxHQURKLEdBS1AsQ0FFREMsT0FDSSxPQUFPLElBQUlWLFNBQVFDLElBRWY1QixLQUFLc0MsdUJBQ0x0QyxLQUFLdUMsYUFBZVQsRUFBQUEsUUFBQUEsV0FFcEI5QixLQUFLdUMsYUFBYUMsR0FBR3hDLEtBQUtGLFFBQVMsQ0FDL0JrQyxVQUFXLEVBQ1hDLFdBQVlMLEdBRmhCLEdBS1AsQ0FLRGpCLGFBQWE4QixHQUNULE1BQU0sT0FBRUMsR0FBV0MsSUFBZUYsR0FDbEN6QyxLQUFLSyxPQUFPRSxRQUFVbUMsQ0FDekIsQ0FFREUsV0FDUTVDLEtBQUtELFNBQVM4QyxVQUNkN0MsS0FBS0ssT0FBT0ksTUFBUVQsS0FBS0QsU0FBUzhDLFFBQVEsR0FBR0MsYUFBZTNCLE9BQU80QixZQUUxRSxDQUVEQyxTQUNJaEQsS0FBS0ssT0FBT0UsT0FBU3VCLEVBQUFBLFFBQUFBLE1BQUFBLE1BQWlCLEVBQUc5QixLQUFLSyxPQUFPSSxNQUFPVCxLQUFLSyxPQUFPRSxRQUd4RVAsS0FBS0ssT0FBT0MsUUFBVXdCLEVBQUFBLFFBQUFBLE1BQUFBLFlBQXVCOUIsS0FBS0ssT0FBT0MsUUFBU04sS0FBS0ssT0FBT0UsT0FBUSxJQUVsRlAsS0FBS0ssT0FBT0MsUUFBVSxNQUN0Qk4sS0FBS0ssT0FBT0MsUUFBVSxHQUd0Qk4sS0FBS0QsU0FBUzhDLFVBQ2Q3QyxLQUFLRCxTQUFTOEMsUUFBUSxHQUFHSSxNQUFNakQsS0FBS0csaUJBQW9CLGVBQWNILEtBQUtLLE9BQU9DLGFBRXpGLENBQ0Q4QixvQkFDSWpCLE9BQU8rQixpQkFBaUIsYUFBY2xELEtBQUtVLGtCQUM5QyxDQUVENEIsdUJBQ0luQixPQUFPK0IsaUJBQWlCLGFBQWNsRCxLQUFLVSxrQkFDOUMsc1RDN0hVLE1BQU15QyxVQUFrQkMsT0FBQUEsV0FBQUEsSUFBQUEsRUFBQUEsSUFBQUEsTUFBQUEsMENBQUFBLE1BQUFBLEVBQUFBLEtBQUFBLG1CQUFBQSxDQUFBQSxDQUFBQSxLQUVuQ3hELGNBQ0l5RCxNQUFNLENBQ0Z2RCxRQUFTLGFBQ1RDLFNBQVUsQ0FDTnVELE1BQU8sbUJBQ1BDLFNBQVUsMkJBQ1ZDLFVBQVcsNEJBQ1hDLE9BQVEzQyxTQUFTVSxpQkFBaUIsVUFHMUNrQyxRQUFRQyxJQUFJM0QsS0FBS0QsU0FBUzBELFNBRTFCRyxFQUFBQSxFQUFBQSxPQUFNLENBQ0Y5RCxRQUFTRSxLQUFLRCxTQUFTdUQsTUFBTSxHQUM3Qk8sV0FBWSxVQUdoQkQsRUFBQUEsRUFBQUEsT0FBTSxDQUNGOUQsUUFBU0UsS0FBS0QsU0FBU3VELE1BQU0sR0FDN0JPLFdBQVksU0FHaEI3RCxLQUFLRCxTQUFTK0QsV0FBYTlELEtBQUtELFNBQVN1RCxNQUFNLEdBQUc5QixpQkFBaUIsYUFFbkV4QixLQUFLK0QsT0FBUyxFQUVkL0QsS0FBS2dFLGNBS1IsQ0FFREEsZUFDSWhELElBQUtoQixLQUFLRCxTQUFTMEQsUUFBUTNELElBQ3ZCQSxFQUFRbUUsT0FBUzlCLEdBQUtuQyxLQUFLa0UsY0FBY3BFLEdBQ3pDQSxFQUFRcUUsSUFBTXJFLEVBQVFzRSxhQUFhLFdBQW5DLEdBRVAsQ0FFREYsY0FBY0csR0FDVnJFLEtBQUsrRCxRQUFVLEVBRWYsTUFBTU8sRUFBVXRFLEtBQUsrRCxPQUFTL0QsS0FBS0QsU0FBUzBELE9BQU9NLE9BRW5EL0QsS0FBS0QsU0FBU3dELFNBQVMsR0FBR2dCLFVBQWEsR0FBRUMsS0FBS0MsTUFBZ0IsSUFBVkgsS0FDcER0RSxLQUFLRCxTQUFTeUQsVUFBVSxHQUFHZSxVQUFhLElBQUUsSUFBTUMsS0FBS0MsTUFBZ0IsSUFBVkgsSUFFM0MsSUFBWkEsR0FDQXRFLEtBQUswRSxVQUVaLENBRURBLFdBRUksT0FBTyxJQUFJL0MsU0FBUUMsSUFDZjVCLEtBQUsyRSxXQUFhN0MsRUFBQUEsUUFBQUEsU0FBYyxDQUM1QjhDLE1BQU8sSUFHWDVFLEtBQUsyRSxXQUFXbkMsR0FBRyxDQUFDeEMsS0FBS0QsU0FBU3dELFNBQVV2RCxLQUFLRCxTQUFTeUQsV0FBWSxDQUNsRXhCLFVBQVcsRUFDWDZDLEtBQU0sV0FDTkMsU0FBVSxJQUNWQyxFQUFHLFNBR1AvRSxLQUFLMkUsV0FBV25DLEdBQUd4QyxLQUFLRCxTQUFTK0QsV0FBWSxDQUN6QzlCLFVBQVcsRUFDWDRDLE1BQU8sR0FDUEMsS0FBTSxXQUNOQyxTQUFVLElBQ1ZDLEVBQUcsU0FHUC9FLEtBQUsyRSxXQUFXbkMsR0FBR3hDLEtBQUtGLFFBQVMsQ0FDN0JrRixPQUFRLEVBQ1JDLGdCQUFpQixjQUlyQmpGLEtBQUsyRSxXQUFXekMsTUFBS0MsSUFDakJuQyxLQUFLa0YsS0FBSyxXQUFWLEdBREosR0FJUCxDQUVEQyxVQUNJbkYsS0FBS0YsUUFBUXNGLFdBQVdDLFlBQVlyRixLQUFLRixRQUM1Qyw0TkM3RlUsTUFBTXdGLFVBQWdCM0YsRUFBQUEsUUFFakNDLGNBQ0l5RCxNQUFNLENBQ0Z4RCxHQUFJLFVBQ0pDLFFBQVMsV0FDVEMsU0FBVSxDQUNOd0YsV0FBWXpFLFNBQVNDLGNBQWMsZUFDbkM4QixRQUFTLG9CQUNUMkMsS0FBTSw0QkFLakIsQ0FFRDNFLFNBQ0l3QyxNQUFNeEMsU0FFTmIsS0FBS3dGLEtBQU8sSUFBSUMsT0FBQUEsV0FBQUEsSUFBQUEsRUFBQUEsSUFBQUEsTUFBQUEsdUNBQUFBLE1BQUFBLEVBQUFBLEtBQUFBLG1CQUFBQSxDQUFBQSxDQUFBQSxHQUFKLENBQVcsQ0FDbkIzRixRQUFTRSxLQUFLRCxTQUFTeUYsS0FBSyxJQUVuQyxDQUdETCxVQUNJOUIsTUFBTThCLFVBRU5uRixLQUFLd0YsS0FBS2xELHNCQUNiLGtCQ2pDTG9ELEVBQW9CQyxFQUFJLElBQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2NsYXNzZXMvUGFnZS5qcyIsIndlYnBhY2s6Ly9zdGFydGVyLy4vYXBwL2NvbXBvbmVudHMvUHJlbG9hZGVyLmpzIiwid2VicGFjazovL3N0YXJ0ZXIvLi9hcHAvcGFnZXMvUHJvamVjdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3RhcnRlci93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiLy8hQ3JlbyBzdGEgY2xhc3NlIHBlciBhdmVyZSB1biBwdW50byBpbiBjb21tdW5lIGluIHR1dHRlIGxlIHBhZ2luZSBjb3NpIGRhIGF2ZXJlIGxhIHBvc3NpYmlsaXTDoCBkaSBjaGlhbWFyZSBpIG1ldG9kaSBcclxuLy8hIHVuYSBzb2xhIHZvbHRhIHNlbnphIGJpc29nbm8gZGkgY2hpYW1hcmxpIGluIHR1dHRlIGxlIHBhZ2luZVxyXG5cclxuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnXHJcbmltcG9ydCBHU0FQIGZyb20gJ2dzYXAnXHJcbmltcG9ydCBQcmVmaXggZnJvbSAncHJlZml4J1xyXG5pbXBvcnQgTm9ybWFsaXplV2hlZWwgZnJvbSAnbm9ybWFsaXplLXdoZWVsJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZSB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoeyBpZCwgZWxlbWVudCwgZWxlbWVudHMgfSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZFxyXG4gICAgICAgIHRoaXMuc2VsZWN0b3IgPSBlbGVtZW50IC8vISAuYWJvdXQgYWQgZXNlbXBpbyBwYXNzYXRvIGRhIHVuYSBkZWxsZSBwYWdpbmUgIFxyXG4gICAgICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcclxuICAgICAgICAgICAgLi4uZWxlbWVudHNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJhbnNmb3JtUHJlZml4ID0gUHJlZml4KCd0cmFuc2Zvcm0nKVxyXG5cclxuICAgICAgICAvLypHZXN0aW9uZSBkZWxsbyBzY3JvbGxcclxuICAgICAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgICAgICAgY3VycmVudDogMCxcclxuICAgICAgICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICAgICAgICBsYXN0OiAwLFxyXG4gICAgICAgICAgICBsaW1pdDogMFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQgPSB0aGlzLm9uTW91c2VXaGVlbC5iaW5kKHRoaXMpLy8hU0VOWkEgUVVFU1RPIExBIFZBUklBQklMRSBUSElTLlNDUk9MTCDDiSBVTkRFRklORURcclxuICAgIH1cclxuXHJcbiAgICAvLz8gTWV0b2RvIHBlciBjcmVhcmUgdW5hIHBhZ2luYSBlZCBvdHRlbmVyZSB0dXR0aSBnbGkgZWxlbWVudGkgdXRpbGkgcGVyIGxlIGFuaW1hemlvbmkgZXRjXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKS8vKiBBZCBlc2VtcGlvIGlsIC4gYWJvdXQgbWkgcml0b3JuYSBsYSBkaXYuYWJvdXQgY29uIHR1dHRvIGlsIHN1byBjb250ZW51dG9cclxuICAgICAgICB0aGlzLmVsZW1lbnRzID0ge30gLy8hIFNvbm8gdHV0dGUgbGUgY2xhc3NpIGNoZSBwYXNzbyBkYWxsYSBjbGFzc2UgcGFnaW5hICBhZCBlc2VtcGlvXHJcbiAgICAgICAgLy8haSBib3R0b25pIG8gYWx0cm8gaW4gbW9kbyBkYSBwb3RlciBmYXJlIGxlIGFuaW1hemlvbmksIGVudHJhdGUgbyB1c2NpdGVcclxuXHJcbiAgICAgICAgLy8qR2VzdGlvbmUgZGVsbG8gc2Nyb2xsXHJcbiAgICAgICAgdGhpcy5zY3JvbGwgPSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgICAgICAgIHRhcmdldDogMCxcclxuICAgICAgICAgICAgbGFzdDogMCxcclxuICAgICAgICAgICAgbGltaXQ6IDBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGVhY2godGhpcy5zZWxlY3RvckNoaWxkcmVuLCAoZW50cnksIGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTEVsZW1lbnQgfHwgZW50cnkgaW5zdGFuY2VvZiB3aW5kb3cuTm9kZUxpc3QgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGVudHJ5IC8vKiBzZSDDqSBnaWEgdW4gcXVlcnkgc2VsZWN0b3IgbG8gcGFzc28gZGlyZXR0YW1lbnRlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChlbnRyeSkgLy8hIFNlIGNlIG7DqSBwaXUgZGkgdW5vLCBhZCBlc2VtcGlvIGxlIGltbWFnaW5pIGZhY2NpbyB1biBzZWxlY3RvciBhbGwgcGVyIGF2ZXJlIHVuIGFycmF5XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5naHQgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsIC8vKlNlIMOpIHZ1b3RvIHJpdG9ybm8gbnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmdodCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZW50cnkpIC8vISBzZSBjw6kgdW5hIHNvbGEgZGkgcXVlc3RlIGNsYXNzaSBmYWNjaW8gdW4gcXVlcnkgc2VsZWN0b3IgY29zaSBub24gbWkgZmEgdW4gYXJyYXlcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5lbGVtZW50c1trZXldLCBlbnRyeSlcclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgc2hvdygpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4gPSBHU0FQLnRpbWVsaW5lKClcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4uZnJvbVRvKHRoaXMuZWxlbWVudCwge1xyXG4gICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IHJlc29sdmVcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uSW4uY2FsbChfID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIGhpZGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uT3V0ID0gR1NBUC50aW1lbGluZSgpXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbk91dC50byh0aGlzLmVsZW1lbnQsIHtcclxuICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMCxcclxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6IHJlc29sdmVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLypEZWJ1ZyBkZWxsbyBzY3JvbGwgcGVyIGxvIHNtb290aHNjcm9sbFxyXG5cclxuICAgIG9uTW91c2VXaGVlbChldmVudCkge1xyXG4gICAgICAgIGNvbnN0IHsgcGl4ZWxZIH0gPSBOb3JtYWxpemVXaGVlbChldmVudCkgLy8qIFBlciBub3JtYWxpenphcmUgbGEgdmVsb2NpdGEgaW4gb2duaSBicm93c2VyXHJcbiAgICAgICAgdGhpcy5zY3JvbGwudGFyZ2V0ICs9IHBpeGVsWVxyXG4gICAgfVxyXG5cclxuICAgIG9uUmVzaXplKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGwubGltaXQgPSB0aGlzLmVsZW1lbnRzLndyYXBwZXJbMF0uY2xpZW50SGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsIHRoaXMuc2Nyb2xsLmxpbWl0LCB0aGlzLnNjcm9sbC50YXJnZXQpXHJcblxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIDAuMSlcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLmN1cnJlbnQgPCAwLjAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsLmN1cnJlbnQgPSAwXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMud3JhcHBlclswXS5zdHlsZVt0aGlzLnRyYW5zZm9ybVByZWZpeF0gPSBgdHJhbnNsYXRlWSgtJHt0aGlzLnNjcm9sbC5jdXJyZW50fXB4KWBcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBhZGRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsRXZlbnQpXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlV2hlZWwnLCB0aGlzLm9uTW91c2VXaGVlbEV2ZW50KVxyXG4gICAgfVxyXG5cclxuICAgIC8vKiBGaW5lIGRlYnVnIGRlbGxvIHNjcm9sbFxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiY2xhc3Nlcy9Db21wb25lbnRcIlxyXG5pbXBvcnQgZWFjaCBmcm9tICdsb2Rhc2gvZWFjaCdcclxuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcclxuXHJcbmltcG9ydCB7IHNwbGl0IH0gZnJvbSAndXRpbHMvdGV4dCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoe1xyXG4gICAgICAgICAgICBlbGVtZW50OiAnLnByZWxvYWRlcicsXHJcbiAgICAgICAgICAgIGVsZW1lbnRzOiB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJy5wcmVsb2FkZXJfX3RleHQnLFxyXG4gICAgICAgICAgICAgICAgdXBudW1iZXI6ICcucHJlbG9hZGVyX19udW1iZXJfX3RleHQnLFxyXG4gICAgICAgICAgICAgICAgZG93bnVtYmVyOiAnLnByZWxvYWRlcl9fcmV2ZXJzZV9fdGV4dCcsXHJcbiAgICAgICAgICAgICAgICBpbWFnZXM6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWxlbWVudHMuaW1hZ2VzKVxyXG5cclxuICAgICAgICBzcGxpdCh7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudHMudGl0bGVbMF0sXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb246ICc8YnI+J1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHNwbGl0KHtcclxuICAgICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50cy50aXRsZVswXSxcclxuICAgICAgICAgICAgZXhwcmVzc2lvbjogJzxicj4nXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy50aXRsZVNwYW5zID0gdGhpcy5lbGVtZW50cy50aXRsZVswXS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuIHNwYW4nKVxyXG5cclxuICAgICAgICB0aGlzLmxlbmd0aCA9IDBcclxuXHJcbiAgICAgICAgdGhpcy5jcmVhdGVMb2FkZXIoKVxyXG5cclxuICAgICAgICAvLyBzZXRUaW1lb3V0KF8gPT4ge1xyXG4gICAgICAgIC8vICAgICB0aGlzLmVtaXQoJ2NvbXBsZXRlJylcclxuICAgICAgICAvLyB9LCAxMDAwKVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUxvYWRlcigpIHtcclxuICAgICAgICBlYWNoKHRoaXMuZWxlbWVudHMuaW1hZ2VzLCBlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBfID0+IHRoaXMub25Bc3NldExvYWRlZChlbGVtZW50KVxyXG4gICAgICAgICAgICBlbGVtZW50LnNyYyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXNyYycpXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBvbkFzc2V0TG9hZGVkKGltYWdlKSB7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gMVxyXG5cclxuICAgICAgICBjb25zdCBwZXJjZW50ID0gdGhpcy5sZW5ndGggLyB0aGlzLmVsZW1lbnRzLmltYWdlcy5sZW5ndGhcclxuXHJcbiAgICAgICAgdGhpcy5lbGVtZW50cy51cG51bWJlclswXS5pbm5lckhUTUwgPSBgJHtNYXRoLnJvdW5kKHBlcmNlbnQgKiAxMDApfWBcclxuICAgICAgICB0aGlzLmVsZW1lbnRzLmRvd251bWJlclswXS5pbm5lckhUTUwgPSBgJHsxMDAgLSBNYXRoLnJvdW5kKHBlcmNlbnQgKiAxMDApfWBcclxuXHJcbiAgICAgICAgaWYgKHBlcmNlbnQgPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkxvYWRlZCgpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uTG9hZGVkKCkge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZU91dCA9IEdTQVAudGltZWxpbmUoe1xyXG4gICAgICAgICAgICAgICAgZGVsYXk6IDJcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZU91dC50byhbdGhpcy5lbGVtZW50cy51cG51bWJlciwgdGhpcy5lbGVtZW50cy5kb3dudW1iZXJdLCB7XHJcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnZXhwby5vdXQnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEuMixcclxuICAgICAgICAgICAgICAgIHk6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVPdXQudG8odGhpcy5lbGVtZW50cy50aXRsZVNwYW5zLCB7XHJcbiAgICAgICAgICAgICAgICBhdXRvQWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkZWxheTogLjEsXHJcbiAgICAgICAgICAgICAgICBlYXNlOiAnZXhwby5vdXQnLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDEuNSxcclxuICAgICAgICAgICAgICAgIHk6IFwiMTAwJVwiXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVPdXQudG8odGhpcy5lbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZVk6IDAsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICcxMDAlIDEwMCUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC8vKkRvcG8gYXZlciBmYXR0byBsJ2FuaW1hemlvbmUgZGkgdXNjaXRhIGZhY2NpbyBsJ2VtaXQgaW4gQVBQIGpzIGNvc2ljaGUgaWwgcHJlbG9hZGVyXHJcbiAgICAgICAgICAgIC8vKiBjb3JyZW50ZSBjaGlhbWkgaWwgZGVzdHJveSBjb3NpIGRhIGVzc2VyZSByaW1vc3NvIGx1aVxyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGVPdXQuY2FsbChfID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCgnY29tcGxldGUnKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZGVzdHJveSgpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGFnZSBmcm9tIFwiY2xhc3Nlcy9QYWdlXCI7XHJcbmltcG9ydCBCdXR0b24gZnJvbSBcImNsYXNzZXMvQnV0dG9uXCI7XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvamVjdCBleHRlbmRzIFBhZ2Uge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKHtcclxuICAgICAgICAgICAgaWQ6ICdwcm9qZWN0JyxcclxuICAgICAgICAgICAgZWxlbWVudDogJy5wcm9qZWN0JyxcclxuICAgICAgICAgICAgZWxlbWVudHM6IHtcclxuICAgICAgICAgICAgICAgIG5hdmlnYXRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uJyksXHJcbiAgICAgICAgICAgICAgICB3cmFwcGVyOiAnLnByb2plY3RfX3dyYXBwZXInLFxyXG4gICAgICAgICAgICAgICAgbGluazogJy5wcm9qZWN0X19wcm9jZXNzX19saW5rJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgc3VwZXIuY3JlYXRlKClcclxuXHJcbiAgICAgICAgdGhpcy5saW5rID0gbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgIGVsZW1lbnQ6IHRoaXMuZWxlbWVudHMubGlua1swXVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpXHJcblxyXG4gICAgICAgIHRoaXMubGluay5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcbiAgICB9XHJcblxyXG59IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZmRkMjg5ZTcwYzQyZmZkZGU4Y2NcIikiXSwibmFtZXMiOlsiUGFnZSIsImNvbnN0cnVjdG9yIiwiaWQiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJ0aGlzIiwic2VsZWN0b3IiLCJzZWxlY3RvckNoaWxkcmVuIiwidHJhbnNmb3JtUHJlZml4IiwiUHJlZml4Iiwic2Nyb2xsIiwiY3VycmVudCIsInRhcmdldCIsImxhc3QiLCJsaW1pdCIsIm9uTW91c2VXaGVlbEV2ZW50Iiwib25Nb3VzZVdoZWVsIiwiYmluZCIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImVhY2giLCJlbnRyeSIsImtleSIsIndpbmRvdyIsIkhUTUxFbGVtZW50IiwiTm9kZUxpc3QiLCJBcnJheSIsImlzQXJyYXkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGVuZ2h0Iiwic2hvdyIsIlByb21pc2UiLCJyZXNvbHZlIiwiYW5pbWF0aW9uSW4iLCJHU0FQIiwiZnJvbVRvIiwiYXV0b0FscGhhIiwib25Db21wbGV0ZSIsImNhbGwiLCJfIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJoaWRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJhbmltYXRpb25PdXQiLCJ0byIsImV2ZW50IiwicGl4ZWxZIiwiTm9ybWFsaXplV2hlZWwiLCJvblJlc2l6ZSIsIndyYXBwZXIiLCJjbGllbnRIZWlnaHQiLCJpbm5lckhlaWdodCIsInVwZGF0ZSIsInN0eWxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlByZWxvYWRlciIsIkNvbXBvbmVudCIsInN1cGVyIiwidGl0bGUiLCJ1cG51bWJlciIsImRvd251bWJlciIsImltYWdlcyIsImNvbnNvbGUiLCJsb2ciLCJzcGxpdCIsImV4cHJlc3Npb24iLCJ0aXRsZVNwYW5zIiwibGVuZ3RoIiwiY3JlYXRlTG9hZGVyIiwib25sb2FkIiwib25Bc3NldExvYWRlZCIsInNyYyIsImdldEF0dHJpYnV0ZSIsImltYWdlIiwicGVyY2VudCIsImlubmVySFRNTCIsIk1hdGgiLCJyb3VuZCIsIm9uTG9hZGVkIiwiYW5pbWF0ZU91dCIsImRlbGF5IiwiZWFzZSIsImR1cmF0aW9uIiwieSIsInNjYWxlWSIsInRyYW5zZm9ybU9yaWdpbiIsImVtaXQiLCJkZXN0cm95IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiUHJvamVjdCIsIm5hdmlnYXRpb24iLCJsaW5rIiwiQnV0dG9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImgiXSwic291cmNlUm9vdCI6IiJ9